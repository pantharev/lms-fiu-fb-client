function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{BUtp:function(e,t,n){"use strict";n.r(t);var i,c=n("ofXK"),o=n("1kSV"),r=n("3Pt+"),s=n("zioG"),a=n("tyNb"),u=n("mrSG"),l=n("BOF4"),d=n.n(l),b=n("fXoL"),f=n("ZY/4"),p=n("Un6b"),v=n("y8gV"),m=n("AytR"),h=n("2Vo4"),g=n("tk/3"),k=((i=function(){function e(t){_classCallCheck(this,e),this.http=t,this.checkedCourses=new h.a([0]),this.sharedCheckedCourses=this.checkedCourses.asObservable()}return _createClass(e,[{key:"nextCheckedCourses",value:function(e){this.checkedCourses.next(e)}},{key:"createAnnouncement",value:function(e,t,n,i,c){return this.http.post("".concat(m.a.apiURL,"/announcements"),{user:e,content:t,created:n,changed:i,user_id:c})}},{key:"fetchAnnouncements",value:function(){return this.http.get("".concat(m.a.apiURL,"/announcements"))}},{key:"fetchAnnouncementsByCourseId",value:function(e){return this.http.get("".concat(m.a.apiURL,"/announcements/").concat(e))}},{key:"updateAnnouncement",value:function(e,t,n){return this.http.put("".concat(m.a.apiURL,"/announcements/").concat(e),{id:e,content:t,changed:n})}},{key:"deleteAnnouncement",value:function(e){return this.http.delete("".concat(m.a.apiURL,"/announcements/").concat(e))}}]),e}()).\u0275fac=function(e){return new(e||i)(b.cc(g.b))},i.\u0275prov=b.Lb({token:i,factory:i.\u0275fac,providedIn:"root"}),i);function y(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",19),b.gc("click",(function(){return b.xc(n),b.ic(4).toggleDropCourse()})),b.Hc(1,"Toggle Course Drop"),b.Tb()}}function C(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",20),b.gc("click",(function(){return b.xc(n),b.ic(4).createAnnouncement()})),b.Hc(1,"Create Announcement"),b.Tb()}if(2&e){var i=b.ic(4);b.oc("disabled",i.checkedCourses.length<=0)}}function U(e,t){1&e&&(b.Ub(0,"a",21),b.Hc(1,"Manage Announcements"),b.Tb())}function x(e,t){if(1&e&&b.Qb(0,"input",22),2&e){var n=b.ic(2).index,i=b.ic(2);b.oc("checked",i.isChecked[n])}}function T(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",23),b.gc("click",(function(){b.xc(n);var e=b.ic(2).$implicit;return b.ic(2).dropCourse(e.course_id)})),b.Hc(1,"Drop Course"),b.Tb()}}var F=function(e){return{"checked-color":e}},I=function(e){return[e,"modules"]};function P(e,t){if(1&e){var n=b.Vb();b.Sb(0),b.Fc(1,y,2,0,"button",7),b.Fc(2,C,2,1,"button",8),b.Fc(3,U,2,0,"a",9),b.Ub(4,"div",10),b.Ub(5,"div",11),b.gc("click",(function(){b.xc(n);var e=b.ic(),t=e.index,i=e.$implicit;return b.ic(2).checkBox(t,i.course_id)})),b.Ub(6,"div",12),b.Fc(7,x,1,1,"input",13),b.Ub(8,"h5",14),b.Hc(9),b.Tb(),b.Ub(10,"p",15),b.Hc(11),b.Tb(),b.Ub(12,"div",16),b.Ub(13,"a",17),b.Hc(14,"Go to Course"),b.Tb(),b.Fc(15,T,2,0,"button",18),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Rb()}if(2&e){var i=b.ic(),c=i.index,o=i.$implicit,r=b.ic(2);b.Cb(1),b.oc("ngIf",0==c),b.Cb(1),b.oc("ngIf",0==c&&r.isAdmin),b.Cb(1),b.oc("ngIf",0==c&&r.isAdmin),b.Cb(2),b.Eb(b.sc(10,F,r.isChecked[c])),b.Cb(2),b.oc("ngIf",r.isAdmin),b.Cb(2),b.Ic(o.name),b.Cb(2),b.Ic(o.description),b.Cb(2),b.oc("routerLink",b.sc(12,I,o.course_id)),b.Cb(2),b.oc("ngIf",r.courseDrop)}}function S(e,t){if(1&e&&(b.Sb(0),b.Fc(1,P,16,14,"ng-container",6),b.Rb()),2&e){var n=t.$implicit;b.Cb(1),b.oc("ngIf","enrolled"==n.enrollment_status)}}function w(e,t){if(1&e&&(b.Sb(0),b.Ub(1,"div",4),b.Fc(2,S,2,1,"ng-container",5),b.jc(3,"async"),b.Tb(),b.Rb()),2&e){var n=b.ic();b.Cb(2),b.oc("ngForOf",b.kc(3,1,n.listCourses))}}function _(e,t){1&e&&(b.Ub(0,"p"),b.Hc(1,"You have no courses!"),b.Tb(),b.Ub(2,"label"),b.Hc(3,"Enroll in courses"),b.Tb(),b.Ub(4,"button",24),b.Hc(5,"Enroll"),b.Tb())}var H,D,M=((H=function(){function e(t,n,i,c,o){_classCallCheck(this,e),this.studentCourseService=t,this.courseService=n,this.authService=i,this.router=c,this.announcementService=o,this.courses=[],this.courseDrop=!1,this.checkedCourses=[],this.isChecked=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.currentStudent=this.authService.currentUserValue,this.currentStudent&&(this.tokenPayload=d()(this.currentStudent.token),this.isAdmin="admin"==this.tokenPayload.role,this.studentId=this.tokenPayload.id,this.listCourses=this.studentCourseService.getCoursesByStudentId(this.studentId),console.log(this.studentId))}},{key:"fetchStudentCourses",value:function(e){var t=this;return new Promise((function(n,i){t.studentCourseService.getCoursesByStudentId(e).subscribe((function(e){for(var c=0;c<e.length;c++)e[c]?("enrolled"==e[c].enrollment_status?(t.courses.push(e[c]),console.log("Enrolled"),console.log(e[c])):(console.log("Not enrolled"),console.log(e[c])),c==e.length&&(console.log("got data"),n(!0))):(console.log("got no data"),i(!1))}),(function(e){i(e),console.log("error: "+e)}))})).then((function(e){return console.log("resthen: "+e),!0})).catch((function(e){return console.log("ERROR: "+e),!1}))}},{key:"asyncFetchStudentCourses",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("calling"),t.next=3,this.fetchStudentCourses(e);case 3:this.hasCourses=t.sent,console.log("resasync: "+this.hasCourses);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"dropCourse",value:function(e){var t=this;this.courseService.getCourseById(e).subscribe((function(e){t.course=e})),confirm("Drop the course? Are you sure?")&&this.studentCourseService.declineStudentEnrollment(this.studentId,e).subscribe((function(){alert("Dropped the course"),t.courseService.updateCourseSeats(e,t.course.seats+1).subscribe((function(){console.log("incremented seats by 1: "+(t.course.seats+1))}))}))}},{key:"toggleDropCourse",value:function(){this.courseDrop=0==this.courseDrop}},{key:"createAnnouncement",value:function(){this.announcementService.nextCheckedCourses(this.checkedCourses),this.router.navigate(["/courses/create-announcement"])}},{key:"checkBox",value:function(e,t){var n=this;"admin"==this.tokenPayload.role&&(this.isChecked[e]?(this.isChecked[e]=!1,this.checkedCourses.forEach((function(e,i,c){e==t&&(console.log(t+" "+i),n.checkedCourses.splice(i,1))}))):(this.isChecked[e]=!0,console.log("courseId: "+t+" has been checked"),this.checkedCourses.push(t)),console.log(this.isChecked[e]))}}]),e}()).\u0275fac=function(e){return new(e||H)(b.Pb(f.a),b.Pb(p.a),b.Pb(v.a),b.Pb(a.c),b.Pb(k))},H.\u0275cmp=b.Jb({type:H,selectors:[["app-dashboard"]],decls:7,vars:4,consts:[[1,"center-form",2,"position","relative"],[4,"ngIf","ngIfElse"],["class","center-form"],["elseBlock",""],[1,"row"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button","class","btn btn-danger btn-sm center-form","style","position: absolute; top: 5px; left: 20px;",3,"click",4,"ngIf"],["type","button","class","btn btn-success btn-sm center-form","style","position: absolute; top: 5px; left: 170px;",3,"disabled","click",4,"ngIf"],["routerLink","/courses/view-created-announcements","class","btn btn-info btn-sm center-form","style","position: absolute; top: 5px; left: 335px;",4,"ngIf"],[1,"col"],[1,"card",2,"max-width","18rem",3,"click"],[1,"card-body"],["type","checkbox",3,"checked",4,"ngIf"],[1,"card-title","text-wrap",2,"word-wrap","break-word"],[1,"card-text","text-wrap",2,"word-wrap","break-word"],[1,"flex-container"],[1,"btn","btn-primary","flex-item",3,"routerLink"],["type","button","class","btn btn-danger btn-sm flex-item",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-sm","center-form",2,"position","absolute","top","5px","left","20px",3,"click"],["type","button",1,"btn","btn-success","btn-sm","center-form",2,"position","absolute","top","5px","left","170px",3,"disabled","click"],["routerLink","/courses/view-created-announcements",1,"btn","btn-info","btn-sm","center-form",2,"position","absolute","top","5px","left","335px"],["type","checkbox",3,"checked"],["type","button",1,"btn","btn-danger","btn-sm","flex-item",3,"click"],["routerLink","../course-library",1,"btn","btn-primary",2,"margin-left","10px"]],template:function(e,t){if(1&e&&(b.Ub(0,"div",0),b.Ub(1,"h2"),b.Hc(2,"Dashboard"),b.Tb(),b.Fc(3,w,4,3,"ng-container",1),b.jc(4,"async"),b.Fc(5,_,6,0,"ng-template",2,3,b.Gc),b.Tb()),2&e){var n=b.wc(6);b.Cb(3),b.oc("ngIf",b.kc(4,2,t.listCourses))("ngIfElse",n)}},directives:[c.n,c.m,a.f,a.d],pipes:[c.b],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.flex-item[_ngcontent-%COMP%]{align-self:center;margin:10px}.card[_ngcontent-%COMP%]{transition:.7s;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}.card[_ngcontent-%COMP%]:hover{transition:.7s;box-shadow:0 4px 8px 0 rgba(0,0,0,.8),0 6px 20px 0 rgba(0,0,0,.8)}input.larger[_ngcontent-%COMP%]{width:50px;height:50px}.checked-color[_ngcontent-%COMP%]{background-color:#90ee90}"]}),H),L=n("+z1p"),A=n("rptU"),O=function(e){return["/courses",e]},V=((D=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.courseId=t.id}));var t,n=document.getElementsByClassName("dropdown-btn");for(t=0;t<n.length;t++)n[t].addEventListener("click",(function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.display="block"===e.style.display?"none":"block"}))}}]),e}()).\u0275fac=function(e){return new(e||D)(b.Pb(a.a))},D.\u0275cmp=b.Jb({type:D,selectors:[["app-sidebar"]],decls:9,vars:6,consts:[["id","mySidenav",1,"sidenav"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(e,t){1&e&&(b.Ub(0,"div",0),b.Ub(1,"a",1),b.Hc(2,"Home"),b.Tb(),b.Ub(3,"a",1),b.Hc(4,"Announcements"),b.Tb(),b.Ub(5,"a",1),b.Hc(6,"Leaderboard"),b.Tb(),b.Ub(7,"a",1),b.Hc(8,"Modules"),b.Tb(),b.Tb()),2&e&&(b.Cb(1),b.oc("routerLink",b.sc(4,O,t.courseId)),b.Cb(2),b.qc("routerLink","/courses/",t.courseId,"/announcements"),b.Cb(2),b.qc("routerLink","/courses/",t.courseId,"/leaderboard"),b.Cb(2),b.qc("routerLink","/courses/",t.courseId,"/modules"))},directives:[a.f,a.e],styles:[".sidenav[_ngcontent-%COMP%]{height:100%;width:0;position:absolute;z-index:0;top:55px;left:0;background-color:#425efd;overflow-x:hidden;transition:.5s}.dropdown-btn[_ngcontent-%COMP%], .sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;text-decoration:none;font-size:25px;color:#000;display:block}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, dropdown-btn[_ngcontent-%COMP%]:hover{background-color:#2d3d97;color:#fff}#main[_ngcontent-%COMP%]{padding:16px}.dropdown-container[_ngcontent-%COMP%]{display:none;background-color:#262626;padding-left:8px}.fa-caret-down[_ngcontent-%COMP%]{float:right;padding-right:8px}@media screen and (max-height:450px){.sidenav[_ngcontent-%COMP%]{padding-top:15px}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}"]}),D);function Q(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",1),b.Ub(1,"span",2),b.gc("click",(function(){return b.xc(n),b.ic().openNav()})),b.Qb(2,"i",3),b.Tb(),b.Tb()}}function q(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",1),b.Ub(1,"span",2),b.gc("click",(function(){return b.xc(n),b.ic().closeNav()})),b.Qb(2,"i",4),b.Tb(),b.Tb()}}var $,E=(($=function(){function e(){_classCallCheck(this,e),this.sidebarIsOpen=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"openNav",value:function(){document.getElementById("mySidenav").style.width="250px",document.getElementById("main").style.marginLeft="250px",document.getElementById("mySidenav").style.display="block",this.sidebarIsOpen=!0}},{key:"closeNav",value:function(){document.getElementById("mySidenav").style.display="none",document.getElementById("mySidenav").style.width="0",document.getElementById("main").style.marginLeft="0",this.sidebarIsOpen=!1}}]),e}()).\u0275fac=function(e){return new(e||$)},$.\u0275cmp=b.Jb({type:$,selectors:[["app-sidebar-button"]],decls:2,vars:2,consts:[["class","flexbox-row",4,"ngIf"],[1,"flexbox-row"],[1,"flexbox-side",2,"cursor","pointer",3,"click"],[1,"fas","fa-angle-double-right","fa-5x"],[1,"fas","fa-angle-double-left","fa-5x"]],template:function(e,t){1&e&&(b.Fc(0,Q,3,0,"div",0),b.Fc(1,q,3,0,"div",0)),2&e&&(b.oc("ngIf",0==t.sidebarIsOpen),b.Cb(1),b.oc("ngIf",1==t.sidebarIsOpen))},directives:[c.n],styles:[""]}),$);function z(e,t){if(1&e&&(b.Ub(0,"a",4),b.Hc(1,"Edit"),b.Tb()),2&e){var n=b.ic();b.qc("routerLink","/courses/",n.courseId,"/edit-home")}}function R(e,t){if(1&e&&(b.Sb(0),b.Qb(1,"div",5),b.Rb()),2&e){var n=t.ngIf;b.Cb(1),b.oc("innerHTML",n.content,b.yc)}}var B,N,J,G,j,Y=((j=function(){function e(t,n,i){var c=this;_classCallCheck(this,e),this.courseDetailsService=t,this.route=n,this.authenticationService=i,this.Editor=L,this.isCleared=!1,this.authenticationService.currentUser.subscribe((function(e){return c.currentUser=e}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.tokenPayload=d()(this.currentUser.token),this.isAdmin="admin"===this.tokenPayload.role,this.isInstructor="instructor"===this.tokenPayload.role,this.isStudent="student"===this.tokenPayload.role,this.route.params.subscribe((function(t){e.courseId=t.id})),this.courseContent=this.courseDetailsService.getCourseDetails(this.courseId),this.courseDetailsService.getCourseDetails(this.courseId).subscribe((function(t){e.courseDetails=t}))}},{key:"onReady",value:function(e){e.setData("")}},{key:"onChange",value:function(e){var t=e.editor;this.editorData=t.getData(),this.isCleared&&(t.setData(""),this.isCleared=!1),console.log(this.editorData)}},{key:"onSubmit",value:function(e){this.courseDetailsService.updateCourseDetails(e,this.editorData).subscribe((function(){alert("Submitted Content")}))}},{key:"onClearButtonClicked",value:function(e){var t=this;confirm("Clear content; Are you sure?")&&this.courseDetailsService.clearCourseDetails(e).subscribe((function(){alert("Cleared Content"),t.isCleared=!0}))}}]),e}()).\u0275fac=function(e){return new(e||j)(b.Pb(A.a),b.Pb(a.a),b.Pb(v.a))},j.\u0275cmp=b.Jb({type:j,selectors:[["app-home"]],decls:7,vars:4,consts:[["id","main"],[1,"flexbox-row"],["class","btn btn-primary",3,"routerLink",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],[1,"custom-font","clamp-words",2,"margin-top","30px",3,"innerHTML"]],template:function(e,t){1&e&&(b.Qb(0,"app-sidebar"),b.Ub(1,"div",0),b.Qb(2,"app-sidebar-button"),b.Ub(3,"div",1),b.Fc(4,z,2,1,"a",2),b.Fc(5,R,2,1,"ng-container",3),b.jc(6,"async"),b.Tb(),b.Tb()),2&e&&(b.Cb(4),b.oc("ngIf",t.isAdmin||t.isInstructor),b.Cb(1),b.oc("ngIf",b.kc(6,2,t.courseContent)))},directives:[V,E,c.n,a.f],pipes:[c.b],styles:[".flexbox-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;justify-content:center;align-items:center;position:relative;margin-top:30px}"]}),j),K=((G=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"addModule",value:function(e,t,n,i){return this.http.post("".concat(m.a.apiURL,"/modules/").concat(e),{number:t,title:n,lockedUntil:i})}},{key:"getModuleById",value:function(e){return this.http.get("".concat(m.a.apiURL,"/modules/m/").concat(e))}},{key:"getModulesByCourseId",value:function(e){return this.http.get("".concat(m.a.apiURL,"/modules/c/").concat(e))}},{key:"updateModule",value:function(e,t,n,i){return this.http.put("".concat(m.a.apiURL,"/modules/").concat(e),{number:t,title:n,lockedUntil:i})}},{key:"deleteModule",value:function(e){return this.http.delete("".concat(m.a.apiURL,"/modules/").concat(e))}}]),e}()).\u0275fac=function(e){return new(e||G)(b.cc(g.b))},G.\u0275prov=b.Lb({token:G,factory:G.\u0275fac,providedIn:"root"}),G),X=((J=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"addVideo",value:function(e,t){return this.http.post("".concat(m.a.apiURL,"/videos"),{link:e,module_id:t})}},{key:"fetchVideos",value:function(e){return this.http.get("".concat(m.a.apiURL,"/videos/").concat(e))}},{key:"updateVideo",value:function(e,t){return this.http.put("".concat(m.a.apiURL,"/videos/").concat(t),{link:e})}},{key:"deleteVideo",value:function(e){return this.http.delete("".concat(m.a.apiURL,"/videos/").concat(e))}}]),e}()).\u0275fac=function(e){return new(e||J)(b.cc(g.b))},J.\u0275prov=b.Lb({token:J,factory:J.\u0275fac,providedIn:"root"}),J),W=((N=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"addPDF",value:function(e){return this.http.post("".concat(m.a.apiURL,"/pdfs"),e)}},{key:"fetchPDFs",value:function(e){return this.http.get("".concat(m.a.apiURL,"/pdfs/").concat(e))}},{key:"updatePDF",value:function(e,t){return this.http.put("".concat(m.a.apiURL,"/pdfs/").concat(e),t)}},{key:"deletePDF",value:function(e){return this.http.delete("".concat(m.a.apiURL,"/pdfs/").concat(e))}}]),e}()).\u0275fac=function(e){return new(e||N)(b.cc(g.b))},N.\u0275prov=b.Lb({token:N,factory:N.\u0275fac,providedIn:"root"}),N),Z=((B=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"addSurvey",value:function(e,t,n){return this.http.post("".concat(m.a.apiURL,"/surveys"),{name:e,link:t,module_id:n})}},{key:"fetchSurveys",value:function(e){return this.http.get("".concat(m.a.apiURL,"/surveys/").concat(e))}},{key:"updateSurvey",value:function(e,t,n){return this.http.put("".concat(m.a.apiURL,"/surveys/").concat(n),{name:e,link:t})}},{key:"deleteSurvey",value:function(e){return this.http.delete("".concat(m.a.apiURL,"/surveys/").concat(e))}}]),e}()).\u0275fac=function(e){return new(e||B)(b.cc(g.b))},B.\u0275prov=b.Lb({token:B,factory:B.\u0275fac,providedIn:"root"}),B),ee=n("jhN1");function te(e,t){if(1&e&&(b.Ub(0,"div",10),b.Hc(1),b.Tb()),2&e){var n=b.ic();b.Cb(1),b.Jc("",n.averagePoints.average,"%")}}function ne(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div"),b.Ub(1,"button",11),b.gc("click",(function(){b.xc(n);var e=b.ic();return e.createModule(e.courseId)})),b.Qb(2,"i",12),b.Hc(3," Create Module"),b.Tb(),b.Tb()}}function ie(e,t){if(1&e&&(b.Ub(0,"span",27),b.Hc(1),b.Tb()),2&e){var n=b.ic(2).$implicit;b.Cb(1),b.Jc("locked until: ",n.lockedUntil,"")}}function ce(e,t){if(1&e&&(b.Ub(0,"span",29),b.Hc(1),b.Tb()),2&e){var n=b.ic(3).$implicit;b.Cb(1),b.Jc("locked until: ",n.lockedUntil,"")}}function oe(e,t){if(1&e&&b.Fc(0,ce,2,1,"span",28),2&e){var n=b.ic(3);b.oc("ngIf",n.isAdmin||n.isInstructor)}}function re(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Link is required"),b.Tb())}function se(e,t){if(1&e&&(b.Ub(0,"div",48),b.Fc(1,re,2,0,"div",8),b.Tb()),2&e){var n=b.ic(4);b.Cb(1),b.oc("ngIf",n.v.link.errors.required)}}function ae(e,t){1&e&&(b.Ub(0,"div",49),b.Hc(1," Valid youtube link "),b.Tb())}function ue(e,t){1&e&&(b.Ub(0,"div",50),b.Hc(1," Invalid Youtube Link "),b.Tb())}function le(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",51),b.gc("click",(function(){b.xc(n),b.ic();var e=b.wc(23),t=b.ic(2).$implicit;return b.ic().addVideo(e.value,t.module_id)})),b.Qb(1,"i",12),b.Hc(2," Add Video"),b.Tb()}}function de(e,t){if(1&e&&(b.Ub(0,"div",52),b.Hc(1),b.Tb()),2&e){var n=b.ic(4);b.Cb(1),b.Ic(n.error)}}var be=function(e,t){return{"is-invalid":e,"is-valid":t}};function fe(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",30),b.Ub(1,"h4",31),b.Hc(2,"Add Youtube Video"),b.Tb(),b.Ub(3,"button",32),b.gc("click",(function(){return t.$implicit.dismiss("Cross click")})),b.Ub(4,"span",33),b.Hc(5,"\xd7"),b.Tb(),b.Tb(),b.Tb(),b.Ub(6,"div",34),b.Ub(7,"form",35),b.Ub(8,"div",36),b.Ub(9,"p"),b.Hc(10,"Valid youtube links are of the formats:"),b.Qb(11,"br"),b.Hc(12," https://youtu.be/*********** "),b.Qb(13,"br"),b.Hc(14,"And "),b.Qb(15,"br"),b.Hc(16,"https://www.youtube.com/watch?v=***********"),b.Tb(),b.Tb(),b.Ub(17,"div",37),b.Ub(18,"label",38),b.Ub(19,"span",29),b.Hc(20,"*"),b.Tb(),b.Hc(21,"Link"),b.Tb(),b.Ub(22,"input",39,40),b.gc("keyup",(function(e){return b.xc(n),b.ic(3).handleValidLink(e)})),b.Tb(),b.Fc(24,se,2,1,"div",41),b.Fc(25,ae,2,0,"div",42),b.Tb(),b.Fc(26,ue,2,0,"div",43),b.Fc(27,le,3,0,"button",44),b.Fc(28,de,2,1,"div",45),b.Tb(),b.Tb(),b.Ub(29,"div",46),b.Ub(30,"button",47),b.gc("click",(function(){return t.$implicit.close("Close click")})),b.Hc(31,"Close"),b.Tb(),b.Tb()}if(2&e){var i=b.ic(3);b.Cb(7),b.oc("formGroup",i.videoForm),b.Cb(15),b.oc("ngClass",b.tc(7,be,i.submitted&&i.v.link.errors,i.validLink)),b.Cb(2),b.oc("ngIf",i.submitted&&i.v.link.errors),b.Cb(1),b.oc("ngIf",i.validLink),b.Cb(1),b.oc("ngIf",i.invalidLink&&!i.validLink),b.Cb(1),b.oc("ngIf",i.isAdmin||i.isInstructor),b.Cb(1),b.oc("ngIf",i.error)}}function pe(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",11),b.gc("click",(function(){b.xc(n),b.ic();var e=b.wc(6);return b.ic(2).open(e)})),b.Hc(1,"Add Video"),b.Tb()}}function ve(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Pdf is required"),b.Tb())}function me(e,t){if(1&e&&(b.Ub(0,"div",48),b.Fc(1,ve,2,0,"div",8),b.Tb()),2&e){var n=b.ic(4);b.Cb(1),b.oc("ngIf",n.p.pdf.errors.required)}}var he=function(e){return{"is-invalid":e}};function ge(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",30),b.Ub(1,"h4",31),b.Hc(2,"Add PDF File"),b.Tb(),b.Ub(3,"button",32),b.gc("click",(function(){return t.$implicit.dismiss("Cross click")})),b.Ub(4,"span",33),b.Hc(5,"\xd7"),b.Tb(),b.Tb(),b.Tb(),b.Ub(6,"div",34),b.Ub(7,"form",53),b.gc("ngSubmit",(function(){b.xc(n);var e=b.ic(2).$implicit;return b.ic().addPdf(e.module_id)})),b.Ub(8,"div",37),b.Ub(9,"label",54),b.Ub(10,"span",29),b.Hc(11,"*"),b.Tb(),b.Hc(12,"Select a PDF File"),b.Tb(),b.Ub(13,"input",55,56),b.gc("change",(function(e){return b.xc(n),b.ic(3).handleFileInput(e)})),b.Tb(),b.Fc(15,me,2,1,"div",41),b.Tb(),b.Ub(16,"button",57),b.Qb(17,"i",12),b.Hc(18," Add PDF"),b.Tb(),b.Tb(),b.Tb(),b.Ub(19,"div",46),b.Ub(20,"button",47),b.gc("click",(function(){return t.$implicit.close("Close click")})),b.Hc(21,"Close"),b.Tb(),b.Tb()}if(2&e){var i=b.ic(3);b.Cb(7),b.oc("formGroup",i.pdfForm),b.Cb(6),b.oc("ngClass",b.sc(3,he,i.submitted&&i.p.pdf.errors)),b.Cb(2),b.oc("ngIf",i.submitted&&i.p.pdf.errors)}}function ke(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",11),b.gc("click",(function(){b.xc(n),b.ic();var e=b.wc(9);return b.ic(2).open(e)})),b.Hc(1,"Add PDF"),b.Tb()}}function ye(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Name is required"),b.Tb())}function Ce(e,t){if(1&e&&(b.Ub(0,"div",48),b.Fc(1,ye,2,0,"div",8),b.Tb()),2&e){var n=b.ic(4);b.Cb(1),b.oc("ngIf",n.s.name.errors.required)}}function Ue(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Link is required"),b.Tb())}function xe(e,t){if(1&e&&(b.Ub(0,"div",48),b.Fc(1,Ue,2,0,"div",8),b.Tb()),2&e){var n=b.ic(4);b.Cb(1),b.oc("ngIf",n.s.link.errors.required)}}function Te(e,t){1&e&&(b.Ub(0,"div",49),b.Hc(1," Valid Qualtrics link "),b.Tb())}function Fe(e,t){1&e&&(b.Ub(0,"div",50),b.Hc(1," Invalid Qualtrics Link "),b.Tb())}function Ie(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",51),b.gc("click",(function(){b.xc(n),b.ic();var e=b.wc(19),t=b.wc(27),i=b.ic(2).$implicit;return b.ic().addSurvey(e.value,t.value,i.module_id)})),b.Qb(1,"i",12),b.Hc(2," Add Quiz/Exam"),b.Tb()}}function Pe(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",30),b.Ub(1,"h4",31),b.Hc(2,"Add Qualtrics Quiz/Exam"),b.Tb(),b.Ub(3,"button",32),b.gc("click",(function(){return t.$implicit.dismiss("Cross click")})),b.Ub(4,"span",33),b.Hc(5,"\xd7"),b.Tb(),b.Tb(),b.Tb(),b.Ub(6,"div",34),b.Ub(7,"form",35),b.Ub(8,"div",36),b.Ub(9,"p"),b.Hc(10,"Valid Qualtrics links are of the formats:"),b.Qb(11,"br"),b.Hc(12," https://fiu.qualtrics.com/jfe/form/******************"),b.Tb(),b.Tb(),b.Ub(13,"div",37),b.Ub(14,"label",58),b.Ub(15,"span",29),b.Hc(16,"*"),b.Tb(),b.Hc(17,"Name"),b.Tb(),b.Qb(18,"input",59,60),b.Fc(20,Ce,2,1,"div",41),b.Tb(),b.Ub(21,"div",37),b.Ub(22,"label",38),b.Ub(23,"span",29),b.Hc(24,"*"),b.Tb(),b.Hc(25,"Link"),b.Tb(),b.Ub(26,"input",61,40),b.gc("keyup",(function(e){return b.xc(n),b.ic(3).handleValidQuiz(e)})),b.Tb(),b.Fc(28,xe,2,1,"div",41),b.Fc(29,Te,2,0,"div",42),b.Tb(),b.Fc(30,Fe,2,0,"div",43),b.Fc(31,Ie,3,0,"button",44),b.Tb(),b.Tb(),b.Ub(32,"div",46),b.Ub(33,"button",47),b.gc("click",(function(){return t.$implicit.close("Close click")})),b.Hc(34,"Close"),b.Tb(),b.Tb()}if(2&e){var i=b.ic(3);b.Cb(7),b.oc("formGroup",i.surveyForm),b.Cb(11),b.oc("ngClass",b.sc(8,he,i.submitted&&i.s.name.errors)),b.Cb(2),b.oc("ngIf",i.submitted&&i.s.name.errors),b.Cb(6),b.oc("ngClass",b.tc(10,be,i.submitted&&i.s.link.errors,i.validQuiz)),b.Cb(2),b.oc("ngIf",i.submitted&&i.s.link.errors),b.Cb(1),b.oc("ngIf",i.validQuiz),b.Cb(1),b.oc("ngIf",i.invalidQuiz&&!i.validQuiz),b.Cb(1),b.oc("ngIf",i.isAdmin||i.isInstructor)}}function Se(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",11),b.gc("click",(function(){b.xc(n),b.ic();var e=b.wc(12);return b.ic(2).open(e)})),b.Hc(1,"Add Quiz/Exam"),b.Tb()}}function we(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",62),b.gc("click",(function(){b.xc(n);var e=b.ic(2).index;return b.ic().openModule(e)})),b.Qb(1,"i",63),b.Ub(2,"strong"),b.Hc(3),b.Tb(),b.Hc(4),b.Tb()}if(2&e){var i=b.ic(2).$implicit;b.Cb(3),b.Jc("Module ",i.module_number," "),b.Cb(1),b.Jc("| ",i.module_title," ")}}function _e(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",62),b.gc("click",(function(){b.xc(n);var e=b.ic(2).index;return b.ic().openModule(e)})),b.Qb(1,"i",64),b.Ub(2,"strong"),b.Hc(3),b.Tb(),b.Hc(4),b.Tb()}if(2&e){var i=b.ic(2).$implicit;b.Cb(3),b.Jc("Module ",i.module_number," "),b.Cb(1),b.Jc("| ",i.module_title," ")}}function He(e,t){if(1&e&&(b.Ub(0,"div",30),b.Ub(1,"h4",31),b.Hc(2),b.Tb(),b.Ub(3,"button",32),b.gc("click",(function(){return t.$implicit.dismiss("Cross click")})),b.Ub(4,"span",33),b.Hc(5,"\xd7"),b.Tb(),b.Tb(),b.Tb(),b.Ub(6,"div",34),b.Ub(7,"div",77),b.Qb(8,"iframe",78),b.Tb(),b.Tb(),b.Ub(9,"div",46),b.Ub(10,"button",47),b.gc("click",(function(){return t.$implicit.close("Close click")})),b.Hc(11,"Close"),b.Tb(),b.Tb()),2&e){var n=b.ic(),i=n.index,c=n.$implicit,o=b.ic(5).$implicit;b.Cb(2),b.Kc("",o.module_title," - Pdf ",i+1,""),b.Cb(6),b.oc("src",c.pdf,b.zc)}}function De(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",79),b.gc("click",(function(){b.xc(n);var e=b.ic(),t=e.$implicit,i=e.index;return b.ic(6).deletePDF(t.pdf_id,i)})),b.Hc(1,"Delete Pdf"),b.Tb()}}function Me(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Pdf is required"),b.Tb())}function Le(e,t){if(1&e&&(b.Ub(0,"div",48),b.Fc(1,Me,2,0,"div",8),b.Tb()),2&e){var n=b.ic(8);b.Cb(1),b.oc("ngIf",n.pu.pdf.errors.required)}}function Ae(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",30),b.Ub(1,"h4",31),b.Hc(2,"Edit PDF"),b.Tb(),b.Ub(3,"button",32),b.gc("click",(function(){return t.$implicit.dismiss("Cross click")})),b.Ub(4,"span",33),b.Hc(5,"\xd7"),b.Tb(),b.Tb(),b.Tb(),b.Ub(6,"div",34),b.Ub(7,"form",53),b.gc("ngSubmit",(function(){b.xc(n);var e=b.ic().$implicit,t=b.ic(5).$implicit;return b.ic().updatePDF(e.pdf_id,t.module_id)})),b.Ub(8,"div",37),b.Ub(9,"label",54),b.Ub(10,"span",29),b.Hc(11,"*"),b.Tb(),b.Hc(12,"Select a PDF File"),b.Tb(),b.Ub(13,"input",55,56),b.gc("change",(function(e){return b.xc(n),b.ic(7).handleFileInputUpdate(e)})),b.Tb(),b.Fc(15,Le,2,1,"div",41),b.Tb(),b.Ub(16,"button",57),b.Qb(17,"i",12),b.Hc(18," Update PDF"),b.Tb(),b.Tb(),b.Tb(),b.Ub(19,"div",46),b.Ub(20,"button",47),b.gc("click",(function(){return t.$implicit.close("Close click")})),b.Hc(21,"Close"),b.Tb(),b.Tb()}if(2&e){var i=b.ic(7);b.Cb(7),b.oc("formGroup",i.updatePdfForm),b.Cb(6),b.oc("ngClass",b.sc(3,he,i.submitted&&i.pu.pdf.errors)),b.Cb(2),b.oc("ngIf",i.submitted&&i.pu.pdf.errors)}}function Oe(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",80),b.gc("click",(function(){b.xc(n);var e=b.ic().$implicit,t=b.wc(8);return b.ic(6).openUpdatePDF(t,e.rawPdf)})),b.Hc(1,"Edit PDF"),b.Tb()}}function Ve(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",70),b.Qb(1,"i",71),b.Fc(2,He,12,3,"ng-template",null,72,b.Gc),b.Ub(4,"button",73),b.gc("click",(function(){b.xc(n);var e=b.wc(3);return b.ic(6).open(e)})),b.Hc(5),b.Tb(),b.Fc(6,De,2,0,"button",74),b.Fc(7,Ae,22,5,"ng-template",null,75,b.Gc),b.Fc(9,Oe,2,0,"button",76),b.Tb()}if(2&e){var i=t.index,c=b.ic(6);b.Cb(5),b.Jc("View Pdf ",i+1,""),b.Cb(1),b.oc("ngIf",c.isAdmin||c.isInstructor),b.Cb(3),b.oc("ngIf",c.isAdmin||c.isInstructor)}}function Qe(e,t){if(1&e&&(b.Ub(0,"div"),b.Fc(1,Ve,10,3,"div",69),b.Tb()),2&e){var n=b.ic().$implicit;b.Cb(1),b.oc("ngForOf",n.value)}}function qe(e,t){if(1&e&&(b.Ub(0,"div",68),b.Fc(1,Qe,2,1,"div",8),b.Tb()),2&e){var n=t.$implicit,i=b.ic(3).$implicit;b.Cb(1),b.oc("ngIf",n.key==i.module_id)}}function $e(e,t){if(1&e&&(b.Ub(0,"div",30),b.Ub(1,"h4",31),b.Hc(2),b.Tb(),b.Ub(3,"button",32),b.gc("click",(function(){return t.$implicit.dismiss("Cross click")})),b.Ub(4,"span",33),b.Hc(5,"\xd7"),b.Tb(),b.Tb(),b.Tb(),b.Ub(6,"div",34),b.Ub(7,"div",77),b.Qb(8,"iframe",87),b.Tb(),b.Tb(),b.Ub(9,"div",46),b.Ub(10,"button",47),b.gc("click",(function(){return t.$implicit.close("Close click")})),b.Hc(11,"Close"),b.Tb(),b.Tb()),2&e){var n=b.ic(),i=n.index,c=n.$implicit,o=b.ic(5).$implicit;b.Cb(2),b.Kc("",o.module_title," - Video ",i+1,""),b.Cb(6),b.oc("src",c.videoUrl,b.zc)}}function Ee(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",79),b.gc("click",(function(){b.xc(n);var e=b.ic(),t=e.$implicit,i=e.index;return b.ic(6).deleteVideo(t.video_id,i)})),b.Hc(1,"Delete Video"),b.Tb()}}function ze(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Link is required"),b.Tb())}function Re(e,t){if(1&e&&(b.Ub(0,"div",48),b.Fc(1,ze,2,0,"div",8),b.Tb()),2&e){var n=b.ic(8);b.Cb(1),b.oc("ngIf",n.vu.linkInput.errors.required)}}function Be(e,t){1&e&&(b.Ub(0,"div",49),b.Hc(1," Valid youtube link "),b.Tb())}function Ne(e,t){1&e&&(b.Ub(0,"div",50),b.Hc(1," Invalid Youtube Link "),b.Tb())}function Je(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",30),b.Ub(1,"h4",31),b.Hc(2,"Edit Youtube Video"),b.Tb(),b.Ub(3,"button",32),b.gc("click",(function(){return t.$implicit.dismiss("Cross click")})),b.Ub(4,"span",33),b.Hc(5,"\xd7"),b.Tb(),b.Tb(),b.Tb(),b.Ub(6,"div",34),b.Ub(7,"form",35),b.Ub(8,"div",36),b.Ub(9,"p"),b.Hc(10,"Valid youtube links are of the formats:"),b.Qb(11,"br"),b.Hc(12," https://youtu.be/*********** "),b.Qb(13,"br"),b.Hc(14,"And "),b.Qb(15,"br"),b.Hc(16,"https://www.youtube.com/watch?v=***********"),b.Tb(),b.Tb(),b.Ub(17,"div",37),b.Ub(18,"label",88),b.Ub(19,"span",29),b.Hc(20,"*"),b.Tb(),b.Hc(21,"New Link"),b.Tb(),b.Ub(22,"input",89,90),b.gc("keyup",(function(e){return b.xc(n),b.ic(7).handleValidLink(e)})),b.Tb(),b.Fc(24,Re,2,1,"div",41),b.Fc(25,Be,2,0,"div",42),b.Tb(),b.Fc(26,Ne,2,0,"div",43),b.Ub(27,"button",51),b.gc("click",(function(){b.xc(n);var e=b.wc(23),t=b.ic().$implicit;return b.ic(6).updateVideo(e.value,t.video_id)})),b.Qb(28,"i",12),b.Hc(29," Update Video"),b.Tb(),b.Tb(),b.Tb(),b.Ub(30,"div",46),b.Ub(31,"button",47),b.gc("click",(function(){return t.$implicit.close("Close click")})),b.Hc(32,"Close"),b.Tb(),b.Tb()}if(2&e){var i=b.ic(7);b.Cb(7),b.oc("formGroup",i.updateVideoForm),b.Cb(15),b.oc("ngClass",b.tc(5,be,i.submitted&&i.vu.linkInput.errors,i.validLink)),b.Cb(2),b.oc("ngIf",i.submitted&&i.vu.linkInput.errors),b.Cb(1),b.oc("ngIf",i.validLink),b.Cb(1),b.oc("ngIf",i.invalidLink&&!i.validLink)}}function Ge(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",80),b.gc("click",(function(){b.xc(n);var e=b.ic().$implicit,t=b.wc(8);return b.ic(6).openUpdateVideo(t,e.url)})),b.Hc(1,"Edit Video"),b.Tb()}}function je(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",83),b.Qb(1,"i",84),b.Fc(2,$e,12,3,"ng-template",null,85,b.Gc),b.Ub(4,"button",73),b.gc("click",(function(){b.xc(n);var e=b.wc(3);return b.ic(6).open(e)})),b.Hc(5),b.Tb(),b.Fc(6,Ee,2,0,"button",74),b.Fc(7,Je,33,8,"ng-template",null,86,b.Gc),b.Fc(9,Ge,2,0,"button",76),b.Tb()}if(2&e){var i=t.index,c=b.ic(6);b.Cb(5),b.Jc("Watch Video ",i+1,""),b.Cb(1),b.oc("ngIf",c.isAdmin||c.isInstructor),b.Cb(3),b.oc("ngIf",c.isAdmin||c.isInstructor)}}function Ye(e,t){if(1&e&&(b.Ub(0,"div"),b.Fc(1,je,10,3,"div",82),b.Tb()),2&e){var n=b.ic().$implicit;b.Cb(1),b.oc("ngForOf",n.value)}}function Ke(e,t){if(1&e&&(b.Ub(0,"div",81),b.Fc(1,Ye,2,1,"div",8),b.Tb()),2&e){var n=t.$implicit,i=b.ic(3).$implicit;b.Cb(1),b.oc("ngIf",n.key==i.module_id)}}function Xe(e,t){if(1&e&&(b.Ub(0,"div",30),b.Ub(1,"h4",31),b.Hc(2),b.Tb(),b.Ub(3,"button",32),b.gc("click",(function(){return t.$implicit.dismiss("Cross click")})),b.Ub(4,"span",33),b.Hc(5,"\xd7"),b.Tb(),b.Tb(),b.Tb(),b.Ub(6,"div",34),b.Ub(7,"div",77),b.Qb(8,"iframe",87),b.Tb(),b.Tb(),b.Ub(9,"div",46),b.Ub(10,"button",47),b.gc("click",(function(){return t.$implicit.close("Close click")})),b.Hc(11,"Close"),b.Tb(),b.Tb()),2&e){var n=b.ic().$implicit,i=b.ic(5).$implicit;b.Cb(2),b.Kc("",i.module_title," - ",n.name,""),b.Cb(6),b.oc("src",n.surveyUrl,b.zc)}}function We(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",79),b.gc("click",(function(){b.xc(n);var e=b.ic(),t=e.$implicit,i=e.index;return b.ic(6).deleteSurvey(t.survey_id,i)})),b.Hc(1,"Delete Quiz/Exam"),b.Tb()}}function Ze(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Name is required"),b.Tb())}function et(e,t){if(1&e&&(b.Ub(0,"div",48),b.Fc(1,Ze,2,0,"div",8),b.Tb()),2&e){var n=b.ic(8);b.Cb(1),b.oc("ngIf",n.su.name.errors.required)}}function tt(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Link is required"),b.Tb())}function nt(e,t){if(1&e&&(b.Ub(0,"div",48),b.Fc(1,tt,2,0,"div",8),b.Tb()),2&e){var n=b.ic(8);b.Cb(1),b.oc("ngIf",n.su.link.errors.required)}}function it(e,t){1&e&&(b.Ub(0,"div",49),b.Hc(1," Valid Qualtrics link "),b.Tb())}function ct(e,t){1&e&&(b.Ub(0,"div",50),b.Hc(1," Invalid Qualtrics Link "),b.Tb())}function ot(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",30),b.Ub(1,"h4",31),b.Hc(2,"Edit Quiz/Exam"),b.Tb(),b.Ub(3,"button",32),b.gc("click",(function(){return t.$implicit.dismiss("Cross click")})),b.Ub(4,"span",33),b.Hc(5,"\xd7"),b.Tb(),b.Tb(),b.Tb(),b.Ub(6,"div",34),b.Ub(7,"form",35),b.Ub(8,"div",36),b.Ub(9,"p"),b.Hc(10,"Valid Qualtrics links are of the formats:"),b.Qb(11,"br"),b.Hc(12," https://fiu.qualtrics.com/jfe/form/******************"),b.Tb(),b.Tb(),b.Ub(13,"div",37),b.Ub(14,"label",58),b.Ub(15,"span",29),b.Hc(16,"*"),b.Tb(),b.Hc(17,"New Name"),b.Tb(),b.Qb(18,"input",94,60),b.Fc(20,et,2,1,"div",41),b.Tb(),b.Ub(21,"div",37),b.Ub(22,"label",38),b.Ub(23,"span",29),b.Hc(24,"*"),b.Tb(),b.Hc(25,"New Link"),b.Tb(),b.Ub(26,"input",95,40),b.gc("keyup",(function(e){return b.xc(n),b.ic(7).handleValidQuiz(e)})),b.Tb(),b.Fc(28,nt,2,1,"div",41),b.Fc(29,it,2,0,"div",42),b.Tb(),b.Fc(30,ct,2,0,"div",43),b.Ub(31,"button",51),b.gc("click",(function(){b.xc(n);var e=b.wc(19),t=b.wc(27),i=b.ic().$implicit;return b.ic(6).updateSurvey(e.value,t.value,i.survey_id)})),b.Qb(32,"i",12),b.Hc(33," Update Quiz/Exam"),b.Tb(),b.Tb(),b.Tb(),b.Ub(34,"div",46),b.Ub(35,"button",47),b.gc("click",(function(){return t.$implicit.close("Close click")})),b.Hc(36,"Close"),b.Tb(),b.Tb()}if(2&e){var i=b.ic(7);b.Cb(7),b.oc("formGroup",i.updateSurveyForm),b.Cb(11),b.oc("ngClass",b.sc(7,he,i.submitted&&i.su.name.errors)),b.Cb(2),b.oc("ngIf",i.submitted&&i.su.name.errors),b.Cb(6),b.oc("ngClass",b.tc(9,be,i.submitted&&i.su.link.errors,i.validQuiz)),b.Cb(2),b.oc("ngIf",i.submitted&&i.su.link.errors),b.Cb(1),b.oc("ngIf",i.validQuiz),b.Cb(1),b.oc("ngIf",i.invalidQuiz&&!i.validQuiz)}}function rt(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",80),b.gc("click",(function(){b.xc(n);var e=b.ic().$implicit,t=b.wc(8);return b.ic(6).openUpdateSurvey(t,e.name,e.url)})),b.Hc(1,"Edit Quiz/Exam"),b.Tb()}}function st(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",83),b.Qb(1,"i",91),b.Fc(2,Xe,12,3,"ng-template",null,92,b.Gc),b.Ub(4,"button",73),b.gc("click",(function(){b.xc(n);var e=b.wc(3);return b.ic(6).open(e)})),b.Hc(5),b.Tb(),b.Fc(6,We,2,0,"button",74),b.Fc(7,ot,37,12,"ng-template",null,93,b.Gc),b.Fc(9,rt,2,0,"button",76),b.Tb()}if(2&e){var i=t.index,c=b.ic(6);b.Cb(5),b.Jc("Take Quiz ",i+1,""),b.Cb(1),b.oc("ngIf",c.isAdmin||c.isInstructor),b.Cb(3),b.oc("ngIf",c.isAdmin||c.isInstructor)}}function at(e,t){if(1&e&&(b.Ub(0,"div"),b.Fc(1,st,10,3,"div",82),b.Tb()),2&e){var n=b.ic().$implicit;b.Cb(1),b.oc("ngForOf",n.value)}}function ut(e,t){if(1&e&&(b.Ub(0,"div",81),b.Fc(1,at,2,1,"div",8),b.Tb()),2&e){var n=t.$implicit,i=b.ic(3).$implicit;b.Cb(1),b.oc("ngIf",n.key==i.module_id)}}function lt(e,t){if(1&e&&(b.Ub(0,"div",65),b.Fc(1,qe,2,1,"div",66),b.jc(2,"keyvalue"),b.Fc(3,Ke,2,1,"div",67),b.jc(4,"keyvalue"),b.Fc(5,ut,2,1,"div",67),b.jc(6,"keyvalue"),b.Tb()),2&e){var n=b.ic(3);b.Cb(1),b.oc("ngForOf",b.kc(2,3,n.safePdfs)),b.Cb(2),b.oc("ngForOf",b.kc(4,5,n.safeLinks)),b.Cb(2),b.oc("ngForOf",b.kc(6,7,n.safeSurveys))}}function dt(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",99),b.gc("click",(function(){b.xc(n);var e=b.ic(3).$implicit;return b.ic().editModule(e.course_id,e.module_id)})),b.Qb(1,"i",101),b.Hc(2," Edit"),b.Tb()}}function bt(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",102),b.gc("click",(function(){b.xc(n);var e=b.ic(3).$implicit;return b.ic().deleteModule(e.module_id,e.module_number)})),b.Qb(1,"i",103),b.Hc(2," Delete"),b.Tb()}}function ft(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",96),b.Fc(1,dt,3,0,"button",97),b.Fc(2,bt,3,0,"button",98),b.Ub(3,"button",99),b.gc("click",(function(){b.xc(n);var e=b.ic(2).$implicit;return b.ic().viewDiscussion(e.course_id,e.module_id)})),b.Qb(4,"i",100),b.Hc(5," View Discussion"),b.Tb(),b.Tb()}if(2&e){var i=b.ic(3);b.Cb(1),b.oc("ngIf",i.isAdmin||i.isInstructor),b.Cb(1),b.oc("ngIf",i.isAdmin||i.isInstructor)}}function pt(e,t){if(1&e&&(b.Sb(0),b.Fc(1,ie,2,1,"span",16),b.Fc(2,oe,1,1,"ng-template",null,17,b.Gc),b.Ub(4,"div",18),b.Fc(5,fe,32,10,"ng-template",null,19,b.Gc),b.Fc(7,pe,2,0,"button",20),b.Fc(8,ge,22,5,"ng-template",null,21,b.Gc),b.Fc(10,ke,2,0,"button",20),b.Fc(11,Pe,35,13,"ng-template",null,22,b.Gc),b.Fc(13,Se,2,0,"button",20),b.Tb(),b.Fc(14,we,5,2,"div",23),b.Fc(15,_e,5,2,"ng-template",null,24,b.Gc),b.Fc(17,lt,7,9,"div",25),b.Fc(18,ft,6,2,"div",26),b.Rb()),2&e){var n=b.wc(3),i=b.wc(16),c=b.ic().index,o=b.ic();b.Cb(1),b.oc("ngIf",!o.moduleLocked[c]&&(o.isAdmin||o.isInstructor))("ngIfElse",n),b.Cb(6),b.oc("ngIf",o.isAdmin||o.isInstructor),b.Cb(3),b.oc("ngIf",o.isAdmin||o.isInstructor),b.Cb(3),b.oc("ngIf",o.isAdmin||o.isInstructor),b.Cb(1),b.oc("ngIf",!o.toggleContent[c])("ngIfElse",i),b.Cb(3),b.oc("ngIf",o.toggleContent[c]),b.Cb(1),b.oc("ngIf",o.currentUser)}}function vt(e,t){if(1&e){var n=b.Vb();b.Ub(0,"span",29),b.Hc(1),b.Tb(),b.Ub(2,"div",104),b.gc("click",(function(){b.xc(n);var e=b.ic().index;return b.ic().openModule(e)})),b.Qb(3,"i",63),b.Ub(4,"strong"),b.Hc(5),b.Tb(),b.Hc(6),b.Tb()}if(2&e){var i=b.ic().$implicit;b.Cb(1),b.Jc("locked until: ",i.lockedUntil,""),b.Cb(4),b.Jc("Module ",i.module_number," "),b.Cb(1),b.Jc("| ",i.module_title," ")}}function mt(e,t){if(1&e&&(b.Ub(0,"div",13),b.Fc(1,pt,19,9,"ng-container",14),b.Fc(2,vt,7,3,"ng-template",null,15,b.Gc),b.Tb()),2&e){var n=t.index,i=b.wc(3),c=b.ic();b.Cb(1),b.oc("ngIf",!c.moduleLocked[n]||c.isAdmin||c.isInstructor)("ngIfElse",i)}}var ht,gt=((ht=function(){function e(t,n,i,c,o,r,s,a,u,l,d){var b=this;_classCallCheck(this,e),this.moduleService=t,this.videoService=n,this.pdfService=i,this.surveyService=c,this.authenticationService=o,this.studentCourseService=r,this.fb=s,this.router=a,this.route=u,this.sanitizer=l,this.modalService=d,this.modules=[],this.moduleLocked=[],this.linksFromDB=new Array,this.links=new Array,this.safeLinks=new Map,this.pdfsFromDB=new Array,this.pdfs=new Array,this.safePdfs=new Map,this.surveysFromDB=new Array,this.surveys=new Array,this.safeSurveys=new Map,this.resources=["pdf1","pdf2","worddoc1"],this.quizzes=["quiz1","quiz2","quiz3"],this.toggleContent=[],this.moduleVideosFetched=[],this.modulePDFsFetched=[],this.moduleSurveysFetched=[],this.submitted=!1,this.error="",this.invalidLink=!1,this.validLink=!1,this.invalidQuiz=!1,this.validQuiz=!1,this.fileToUpload=null,this.contentObject={course_id:0,course_name:"",module_id:0,module_number:0,module_title:"",lockedUntil:"",link:""},this.authenticationService.currentUser.subscribe((function(e){return b.currentUser=e})),this.makeForms()}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.courseId=t.id,console.log("param id is: "+t.id)})),this.currentUser&&(this.todayDate=new Date,this.tokenPayload=d()(this.currentUser.token),this.isAdmin="admin"===this.tokenPayload.role,this.isInstructor="instructor"===this.tokenPayload.role,this.isStudent="student"===this.tokenPayload.role,this.fetchModules(this.courseId),this.getAvgStudentPoints(this.courseId,this.tokenPayload.id),this.waitForProgressBar(),this.studentCourseService.getStudentsByCourseId(this.courseId).subscribe((function(t){t.forEach((function(t,n,i){t.student_id==e.tokenPayload.id&&(e.points=t.points,console.log("Points: "+e.points),document.getElementById("progressbar").style.width=e.points+"%")}))})))}},{key:"ngOnDestroy",value:function(){clearTimeout(this.waitForProgressBarTimeout)}},{key:"waitForProgressBar",value:function(){var e=this;console.log("waiting for progress bar"),document.getElementById("progressbarAvg")?document.getElementById("progressbarAvg").style.width=this.averagePoints.average+"%":this.waitForProgressBarTimeout=setTimeout((function(){e.waitForProgressBar()}),1e3)}},{key:"makeForms",value:function(){this.videoForm=this.fb.group({link:["",r.m.required]}),this.updateVideoForm=this.fb.group({linkInput:["",r.m.required]}),this.pdfForm=this.fb.group({pdf:["",r.m.required]}),this.updatePdfForm=this.fb.group({pdf:["",r.m.required]}),this.surveyForm=this.fb.group({name:["",r.m.required],link:["",r.m.required]}),this.updateSurveyForm=this.fb.group({name:["",r.m.required],link:["",r.m.required]})}},{key:"pushLinksToArray",value:function(e,t){e.forEach((function(e){t.push({link:e.link,module_id:e.module_id,video_id:e.video_id})}))}},{key:"updateVideoUrl",value:function(e,t){var n=this;e.forEach((function(e){if(e.module_id===t){n.moduleVideosFetched[t]=!0;var i,c,o,r=e.link.length;r>=43?i=e.link.substring(32,43):28==r&&(i=e.link.substring(17,28)),c="https://www.youtube.com/embed/"+i,o={videoUrl:n.sanitizer.bypassSecurityTrustResourceUrl(c),video_id:e.video_id,url:e.link},n.safeLinks.get(t)?n.safeLinks.get(t).push(o):n.safeLinks.set(t,[o])}}))}},{key:"pushPDFsToArray",value:function(e,t){e.forEach((function(e){var n=Uint8Array.from(e.pdf.data),i=new Blob([n.buffer],{type:"application/pdf"});t.push({module_id:e.module_id,pdf_id:e.pdf_id,pdf:i})}))}},{key:"updatePdfData",value:function(e,t){var n=this;e.forEach((function(e){if(e.module_id===t){n.modulePDFsFetched[t]=!0;var i,c,o=URL.createObjectURL(e.pdf);i=n.sanitizer.bypassSecurityTrustResourceUrl(o),c={pdf_id:e.pdf_id,pdf:i,rawPdf:e.pdf},n.safePdfs.get(t)?n.safePdfs.get(t).push(c):n.safePdfs.set(t,[c])}}))}},{key:"pushSurveysToArray",value:function(e,t){e.forEach((function(e){t.push({name:e.survey_name,link:e.link,module_id:e.module_id,survey_id:e.survey_id})}))}},{key:"updateSurveyUrl",value:function(e,t){var n=this;e.forEach((function(e){if(e.module_id===t){n.moduleSurveysFetched[t]=!0;var i={surveyUrl:n.sanitizer.bypassSecurityTrustResourceUrl(e.link),survey_id:e.survey_id,name:e.name,url:e.link};n.safeSurveys.get(t)?n.safeSurveys.get(t).push(i):n.safeSurveys.set(t,[i])}}))}},{key:"open",value:function(e){this.submitted=!1,this.invalidLink=!1,this.invalidQuiz=!1,this.validLink=!1,this.invalidQuiz=!1,this.modalService.open(e,{size:"lg",centered:!0})}},{key:"openModule",value:function(e){this.toggleContent[e]=!this.toggleContent[e]}},{key:"openUpdateVideo",value:function(e,t){this.submitted=!1,this.invalidLink=!1,this.validLink=!1,this.modalService.open(e,{size:"lg",centered:!0}),this.updateVideoForm.get("linkInput").setValue(t)}},{key:"openUpdatePDF",value:function(e,t){this.submitted=!1,this.modalService.open(e,{size:"lg",centered:!0}),console.log("The updatePDF: "+t)}},{key:"openUpdateSurvey",value:function(e,t,n){this.submitted=!1,this.invalidQuiz=!1,this.validQuiz=!1,this.modalService.open(e,{size:"lg",centered:!0}),this.updateSurveyForm.get("name").setValue(t),this.updateSurveyForm.get("link").setValue(n)}},{key:"getAvgStudentPoints",value:function(e,t){var n=this;console.log("Called avgstudentpoints on student_id: "+t),this.studentCourseService.getAvgStudentPoints(e,t).subscribe((function(e){n.averagePoints=e,console.log("avg: "+JSON.stringify(e)),n.averagePoints.average=n.toFixed(n.averagePoints.average,2)}))}},{key:"toFixed",value:function(e,t){var n=Math.pow(10,t||0);return String(Math.round(e*n)/n)}},{key:"viewDiscussion",value:function(e,t){this.router.navigate(["courses/".concat(e,"/discussion/").concat(t)])}},{key:"createModule",value:function(e){this.router.navigate(["courses/".concat(e,"/create-module")])}},{key:"fetchModules",value:function(e){var t=this;this.moduleService.getModulesByCourseId(e).subscribe((function(n){n.forEach((function(e,n,i){var c=new Date(e.lockedUntil),o=String(c.getDate()+1).padStart(2,"0"),r=String(c.getMonth()+1).padStart(2,"0")+"/"+o+"/"+c.getFullYear();t.moduleLocked[n]=!1,t.todayDate<c&&(t.moduleLocked[n]=!0),e.lockedUntil=r})),t.modules=n,t.fetchVideos(e,n),t.fetchPdfs(e,n),t.fetchSurveys(e,n)}))}},{key:"editModule",value:function(e,t){this.router.navigate(["courses/".concat(e,"/edit-module/").concat(t)])}},{key:"deleteModule",value:function(e,t){if(1==confirm("Delete Module ".concat(t,": Are you sure?"))){this.moduleService.deleteModule(e).subscribe((function(){console.log("Deleted module "+e)}));var n=this.modules.find((function(t){return t.id===e}));this.modules.splice(this.modules.indexOf(n))}}},{key:"handleValidLink",value:function(e){var t=e.target.value,n=!1,i=t.length;t.includes("https://www.youtube.com/watch?v=")||t.includes("https://youtu.be/")?(console.log("Includes youtube link"),n=!0):n=!1,(28==i||i>=43)&&n?(this.validLink=!0,this.invalidLink=!1):this.validLink=!1}},{key:"addVideo",value:function(e,t){var n=this;this.submitted=!0,this.videoForm.invalid||(this.validLink?this.videoService.addVideo(e,t).subscribe((function(e){alert("Added video")}),(function(e){n.error=e})):this.invalidLink=!0)}},{key:"updateVideo",value:function(e,t){this.submitted=!0,this.updateVideoForm.invalid||(this.validLink?this.videoService.updateVideo(e,t).subscribe((function(){alert("Updated video")})):this.invalidLink=!0)}},{key:"deleteVideo",value:function(e,t){confirm("Delete video "+(t+1)+": Are you sure?")&&this.videoService.deleteVideo(e).subscribe((function(){alert("Deleted video")}))}},{key:"fetchVideos",value:function(e,t){var n=this;console.log("Fetching videos: "+e),this.videoService.fetchVideos(e).subscribe((function(e){n.linksFromDB=e,n.pushLinksToArray(e,n.links),t.forEach((function(t,i,c){for(var o=t,r=0;r<e.length;r++){var s=e[r];if(s.module_id==o.module_id){if(1==n.moduleVideosFetched[s.module_id]){console.log("Modules videos fetched true");break}n.updateVideoUrl(n.links,s.module_id)}}}))}))}},{key:"handleFileInput",value:function(e){if(e.target.files.length>0){var t=e.target.files[0];this.pdfForm.get("pdf").setValue(t)}}},{key:"handleFileInputUpdate",value:function(e){if(e.target.files.length>0){var t=e.target.files[0];this.updatePdfForm.get("pdf").setValue(t)}}},{key:"addPdf",value:function(e){var t=this;if(this.submitted=!0,!this.pdfForm.invalid){var n=new FormData;n.append("fileKey",this.pdfForm.get("pdf").value),n.append("fileKey",e),this.pdfService.addPDF(n).subscribe((function(e){console.log(e),alert("Added PDF!")}),(function(e){console.log(e),t.error=e}))}}},{key:"fetchPdfs",value:function(e,t){var n=this;console.log("Fetching pdfs: "+e),this.pdfService.fetchPDFs(e).subscribe((function(e){n.pdfsFromDB=e,n.pushPDFsToArray(e,n.pdfs),t.forEach((function(t,i,c){for(var o=t,r=0;r<e.length;r++){var s=e[r];if(s.module_id==o.module_id){if(1==n.modulePDFsFetched[s.module_id]){console.log("Modules pdfs fetched true");break}n.updatePdfData(n.pdfs,s.module_id)}}}))}))}},{key:"updatePDF",value:function(e,t){if(this.submitted=!0,!this.updatePdfForm.invalid){var n=new FormData;n.append("fileKey",this.updatePdfForm.get("pdf").value),n.append("fileKey",t),this.pdfService.updatePDF(e,n).subscribe((function(){alert("Updated pdf")}))}}},{key:"deletePDF",value:function(e,t){confirm("Delete PDF "+(t+1)+": Are you sure?")&&this.pdfService.deletePDF(e).subscribe((function(){alert("Deleted pdf")}))}},{key:"handleValidQuiz",value:function(e){var t,n=e.target.value,i=n.length;t=!!n.includes("https://fiu.qualtrics.com/jfe/form/"),53==i&&t?(this.validQuiz=!0,this.invalidQuiz=!1):this.validQuiz=!1}},{key:"addSurvey",value:function(e,t,n){this.submitted=!0,this.surveyForm.invalid||(this.validQuiz?this.surveyService.addSurvey(e,t,n).subscribe((function(){alert("Added survey")})):this.invalidQuiz=!0)}},{key:"fetchSurveys",value:function(e,t){var n=this;console.log("Fetching surveys: "+e),this.surveyService.fetchSurveys(e).subscribe((function(e){n.surveysFromDB=e,n.pushSurveysToArray(e,n.surveys),t.forEach((function(t){for(var i=t,c=0;c<e.length;c++){var o=e[c];if(o.module_id==i.module_id){if(1==n.moduleSurveysFetched[o.module_id]){console.log("Modules surveys fetched true");break}n.updateSurveyUrl(n.surveys,o.module_id)}}}))}))}},{key:"updateSurvey",value:function(e,t,n){this.submitted=!0,this.updateSurveyForm.invalid||(this.validQuiz?this.surveyService.updateSurvey(e,t,n).subscribe((function(){alert("Updated Quiz/Exam")})):this.invalidQuiz=!0)}},{key:"deleteSurvey",value:function(e,t){confirm("Delete Quiz/Exam "+(t+1)+": Are you sure?")&&this.surveyService.deleteSurvey(e).subscribe((function(){alert("Deleted Quiz/Exam")}))}},{key:"v",get:function(){return this.videoForm.controls}},{key:"p",get:function(){return this.pdfForm.controls}},{key:"s",get:function(){return this.surveyForm.controls}},{key:"vu",get:function(){return this.updateVideoForm.controls}},{key:"pu",get:function(){return this.updatePdfForm.controls}},{key:"su",get:function(){return this.updateSurveyForm.controls}}]),e}()).\u0275fac=function(e){return new(e||ht)(b.Pb(K),b.Pb(X),b.Pb(W),b.Pb(Z),b.Pb(v.a),b.Pb(f.a),b.Pb(r.b),b.Pb(a.c),b.Pb(a.a),b.Pb(ee.b),b.Pb(o.b))},ht.\u0275cmp=b.Jb({type:ht,selectors:[["app-modules"]],decls:18,vars:4,consts:[["id","main"],[1,"flexbox-row"],[1,"flexbox-top-container"],[1,"align-self-stretch"],[1,"progress","flexbox-progress-bar","flexbox-top-options",2,"height","30px"],["id","progressbar","role","progressbar","aria-valuenow","10","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped",2,"width","10%"],[2,"align-self","stretch"],["class","progress-bar progress-bar-striped bg-info","id","progressbarAvg","role","progressbar","style","width: 10%","aria-valuenow","10","aria-valuemin","0","aria-valuemax","100",4,"ngIf"],[4,"ngIf"],["class","flexbox-container",4,"ngFor","ngForOf"],["id","progressbarAvg","role","progressbar","aria-valuenow","10","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","bg-info",2,"width","10%"],[1,"btn","btn-success",3,"click"],[1,"fas","fa-plus-circle"],[1,"flexbox-container"],[4,"ngIf","ngIfElse"],["lockedBlock",""],["style","color: blue;",4,"ngIf","ngIfElse"],["lockedBlock0",""],[1,"flexbox-options"],["contentVideoAdd",""],["class","btn btn-success",3,"click",4,"ngIf"],["contentPdfAdd",""],["contentSurveyAdd",""],["class","flexbox-item","style","cursor:pointer",3,"click",4,"ngIf","ngIfElse"],["moduleBlock",""],["class","flexbox-subcontainer",4,"ngIf"],["class","flexbox-item-module-actions",4,"ngIf"],[2,"color","blue"],["style","color: red",4,"ngIf"],[2,"color","red"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-9",3,"formGroup"],[1,"alert","alert-info"],[1,"form-group"],["for","link"],["type","text","required","","formControlName","link",1,"form-control",3,"ngClass","keyup"],["link",""],["class","invalid-feedback",4,"ngIf"],["class","valid-feedback",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["type","submit","class","btn btn-primary",3,"click",4,"ngIf"],["class","alert alert-danger mt-3 mb-0",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],[1,"invalid-feedback"],[1,"valid-feedback"],[1,"alert","alert-danger"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"alert","alert-danger","mt-3","mb-0"],["method","POST","enctype","multipart/form-data",1,"col-9",3,"formGroup","ngSubmit"],["for","pdf"],["id","theFile","type","file","name","pdf","required","",1,"form-control",3,"ngClass","change"],["file",""],["type","submit",1,"btn","btn-primary"],["for","name"],["type","text","formControlName","name","required","",1,"form-control",3,"ngClass"],["name",""],["type","text","formControlName","link","required","",1,"form-control",3,"ngClass","keyup"],[1,"flexbox-item",2,"cursor","pointer",3,"click"],[1,"fas","fa-caret-right"],[1,"fas","fa-caret-down"],[1,"flexbox-subcontainer"],["class","flexbox-resources",4,"ngFor","ngForOf"],["class","flexbox-links",4,"ngFor","ngForOf"],[1,"flexbox-resources"],["class","flexbox-resources-inner",4,"ngFor","ngForOf"],[1,"flexbox-resources-inner"],[1,"fas","fa-paperclip"],["contentPdf",""],[1,"btn","btn-primary",3,"click"],["class","btn btn-danger flexbox-module-options",3,"click",4,"ngIf"],["contentPdfUpdate",""],["class","btn btn-success flexbox-module-options",3,"click",4,"ngIf"],[1,"embed-responsive","embed-responsive-16by9"],["width","780","height","480",1,"embed-responsive-item",3,"src"],[1,"btn","btn-danger","flexbox-module-options",3,"click"],[1,"btn","btn-success","flexbox-module-options",3,"click"],[1,"flexbox-links"],["class","flexbox-links-inner",4,"ngFor","ngForOf"],[1,"flexbox-links-inner"],[1,"fab","fa-youtube"],["contentVideo",""],["contentVideoUpdate",""],["width","780","height","480","frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"embed-responsive-item",3,"src"],["for","linkInput"],["type","text","formControlName","linkInput","required","",1,"form-control","form-control-lg",3,"ngClass","keyup"],["linkInput",""],[1,"fas","fa-paper-plane"],["contentSurvey",""],["contentSurveyUpdate",""],["type","text","formControlName","name","required","",1,"form-control","form-control-lg",3,"ngClass"],["type","text","formControlName","link","required","",1,"form-control","form-control-lg",3,"ngClass","keyup"],[1,"flexbox-item-module-actions"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-comments"],[1,"fas","fa-edit"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fas","fa-minus-circle"],[1,"flexbox-item",2,"cursor","not-allowed","opacity","0.5",3,"click"]],template:function(e,t){1&e&&(b.Qb(0,"app-sidebar"),b.Ub(1,"div",0),b.Qb(2,"app-sidebar-button"),b.Ub(3,"div",1),b.Ub(4,"div",2),b.Ub(5,"div",3),b.Ub(6,"span"),b.Hc(7,"Your Points"),b.Tb(),b.Ub(8,"div",4),b.Ub(9,"div",5),b.Hc(10),b.Tb(),b.Tb(),b.Tb(),b.Ub(11,"div",6),b.Ub(12,"span"),b.Hc(13,"Class Average Points"),b.Tb(),b.Ub(14,"div",4),b.Fc(15,te,2,1,"div",7),b.Tb(),b.Tb(),b.Fc(16,ne,4,0,"div",8),b.Tb(),b.Fc(17,mt,4,2,"div",9),b.Tb(),b.Tb()),2&e&&(b.Cb(10),b.Jc("",t.points,"%"),b.Cb(5),b.oc("ngIf",t.averagePoints),b.Cb(1),b.oc("ngIf",t.currentUser&&(t.isAdmin||t.isInstructor)),b.Cb(1),b.oc("ngForOf",t.modules))},directives:[V,E,c.n,c.m,r.o,r.i,r.d,r.a,r.l,r.h,r.c,c.l],pipes:[c.h],styles:[".flexbox-row[_ngcontent-%COMP%]{justify-content:center}.flexbox-container[_ngcontent-%COMP%], .flexbox-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;align-items:center}.flexbox-container[_ngcontent-%COMP%]{width:600px;padding:20px;justify-content:space-evenly;background-color:#ececec;border-left:1px solid #000;border-right:1px solid #000;border-bottom:1px dotted grey}.flexbox-options[_ngcontent-%COMP%]{margin-bottom:15px;align-self:flex-end}.flexbox-item[_ngcontent-%COMP%]{align-self:stretch;background-color:transparent;border:1px solid #afafaf}.flexbox-top-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;width:600px;padding:20px;justify-content:space-evenly;align-items:center}.flexbox-top-container[_ngcontent-%COMP%]   .flexbox-top-options[_ngcontent-%COMP%]{margin-bottom:15px}.flexbox-top-container[_ngcontent-%COMP%]   .flexbox-progress-bar[_ngcontent-%COMP%]{align-self:stretch;background-color:#dbdbdb}.flexbox-item-module-actions[_ngcontent-%COMP%]{margin-top:15px;align-self:flex-end;background-color:transparent;border:1px solid #000}.flexbox-subcontainer[_ngcontent-%COMP%]{margin-top:15px;align-self:flex-start;display:flex;flex-direction:column;width:560px;justify-content:center;align-items:flex-start;background-color:#fafafa}.flexbox-module-options[_ngcontent-%COMP%]{float:right}.flexbox-links[_ngcontent-%COMP%]{align-self:stretch}.flexbox-links[_ngcontent-%COMP%]   .flexbox-links-inner[_ngcontent-%COMP%]{align-self:stretch;border:1px solid #000}.flexbox-links[_ngcontent-%COMP%]   .flexbox-links-inner[_ngcontent-%COMP%]:hover{background-color:#d9deff}.flexbox-resources[_ngcontent-%COMP%]{align-self:stretch}.flexbox-resources[_ngcontent-%COMP%]   .flexbox-resources-inner[_ngcontent-%COMP%]{align-self:stretch;border:1px solid #000}.flexbox-resources[_ngcontent-%COMP%]   .flexbox-resources-inner[_ngcontent-%COMP%]:hover{background-color:#d9deff}.flexbox-quizzes[_ngcontent-%COMP%]{align-self:stretch;border:1px solid #000}.flexbox-quizzes[_ngcontent-%COMP%]:hover{background-color:#d9deff}"]}),ht);function kt(e,t){if(1&e&&(b.Ub(0,"div",1),b.Ub(1,"div",2),b.Ub(2,"div",3),b.Hc(3),b.Tb(),b.Ub(4,"div",4),b.Hc(5),b.Tb(),b.Tb(),b.Tb()),2&e){var n=t.$implicit;b.Cb(3),b.Ic(n.student_id),b.Cb(2),b.Ic(n.points)}}function yt(e,t){if(1&e&&(b.Ub(0,"span"),b.Hc(1),b.Tb()),2&e){var n=b.ic();b.Cb(1),b.Jc("Class average: ",n.average.average,"")}}var Ct,Ut=((Ct=function(){function e(t,n,i,c){var o=this;_classCallCheck(this,e),this.studentCourseService=t,this.router=n,this.route=i,this.authenticationService=c,this.students=[],this.authenticationService.currentUser.subscribe((function(e){return o.currentUser=e}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.courseId=t.id,console.log("param id is: "+t.id)})),this.userPayload=d()(this.currentUser.token),this.fetchStudents(this.courseId),this.getAvgStudentPoints(this.courseId,this.userPayload.id)}},{key:"fetchStudents",value:function(e){var t=this;console.log("fetching students"),this.studentCourseService.getStudentsByCourseId(e).subscribe((function(e){t.students=e,console.log(e)}))}},{key:"getAvgStudentPoints",value:function(e,t){var n=this;console.log("Called avgstudentpoints on student_id: "+t),this.studentCourseService.getAvgStudentPoints(e,t).subscribe((function(e){n.average=e,console.log("avg: "+JSON.stringify(e)),n.average.average=n.toFixed(n.average.average,2)}))}},{key:"toFixed",value:function(e,t){var n=Math.pow(10,t||0);return String(Math.round(e*n)/n)}}]),e}()).\u0275fac=function(e){return new(e||Ct)(b.Pb(f.a),b.Pb(a.c),b.Pb(a.a),b.Pb(v.a))},Ct.\u0275cmp=b.Jb({type:Ct,selectors:[["app-leaderboard"]],decls:14,vars:2,consts:[["id","main"],[1,"flexbox-row"],[1,"flexbox-container"],[1,"flexbox-cell","left"],[1,"flexbox-cell","right"],["class","flexbox-row",4,"ngFor","ngForOf"],[1,"center-form",2,"margin-top","15px"],[4,"ngIf"]],template:function(e,t){1&e&&(b.Qb(0,"app-sidebar"),b.Ub(1,"div",0),b.Qb(2,"app-sidebar-button"),b.Ub(3,"div",1),b.Ub(4,"h2"),b.Hc(5," Leaderboard "),b.Tb(),b.Ub(6,"div",2),b.Ub(7,"div",3),b.Hc(8,"ID"),b.Tb(),b.Ub(9,"div",4),b.Hc(10,"Points"),b.Tb(),b.Tb(),b.Fc(11,kt,6,2,"div",5),b.Ub(12,"div",6),b.Fc(13,yt,2,1,"span",7),b.Tb(),b.Tb(),b.Tb()),2&e&&(b.Cb(11),b.oc("ngForOf",t.students),b.Cb(2),b.oc("ngIf",t.average))},directives:[V,E,c.m,c.n],styles:[".flexbox-container[_ngcontent-%COMP%]{flex-direction:row;width:600px;padding:20px;justify-content:space-around;background-color:#ececec;border-left:1px solid #000;border-right:1px solid #000;border-bottom:1px dotted grey}.flexbox-container[_ngcontent-%COMP%], .flexbox-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}.flexbox-row[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.flexbox-column[_ngcontent-%COMP%]{background-color:#d9deff;display:flex;flex-direction:row;justify-content:space-evenly;align-items:center}.flexbox-cell[_ngcontent-%COMP%]{width:100px;text-align:center}"]}),Ct);function xt(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Number is required"),b.Tb())}function Tt(e,t){if(1&e&&(b.Ub(0,"div",18),b.Fc(1,xt,2,0,"div",19),b.Tb()),2&e){var n=b.ic();b.Cb(1),b.oc("ngIf",n.m.number.errors.required)}}function Ft(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Title is required"),b.Tb())}function It(e,t){if(1&e&&(b.Ub(0,"div",18),b.Fc(1,Ft,2,0,"div",19),b.Tb()),2&e){var n=b.ic();b.Cb(1),b.oc("ngIf",n.m.title.errors.required)}}function Pt(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Locked Until is required"),b.Tb())}function St(e,t){if(1&e&&(b.Ub(0,"div",18),b.Fc(1,Pt,2,0,"div",19),b.Tb()),2&e){var n=b.ic();b.Cb(1),b.oc("ngIf",n.m.lockedUntil.errors.required)}}var wt,_t=function(e){return{"is-invalid":e}},Ht=((wt=function(){function e(t,n,i,c){_classCallCheck(this,e),this.router=t,this.route=n,this.moduleService=i,this.fb=c,this.labels=["number","title","lockedUntil"],this.submitted=!1,this.todayDate=null,this.moduleForm=this.fb.group({number:["",r.m.required],title:["",r.m.required],lockedUntil:["",r.m.required]})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.courseId=t.id,console.log("params id create: "+t.id)}));var t=new Date,n=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0"),c=t.getFullYear();this.todayDate=new Promise((function(e,t){e(i+"/"+n+"/"+c)}))}},{key:"addModule",value:function(e,t,n){this.submitted=!0;var i=new Date(n),c=String(i.getDate()).padStart(2,"0"),o=String(i.getMonth()+1).padStart(2,"0");n=i.getFullYear()+"-"+o+"-"+c,console.log("going to submit lockedUntil: "+n),this.moduleForm.valid&&this.moduleService.addModule(this.courseId,e,t,n).subscribe((function(){alert("Added module successfully!")}))}},{key:"onDateSelect",value:function(e){this.todayDate=new Promise((function(t,n){t(String(e.month).padStart(2,"0")+"/"+String(e.day).padStart(2,"0")+"/"+e.year)}))}},{key:"m",get:function(){return this.moduleForm.controls}}]),e}()).\u0275fac=function(e){return new(e||wt)(b.Pb(a.c),b.Pb(a.a),b.Pb(K),b.Pb(r.b))},wt.\u0275cmp=b.Jb({type:wt,selectors:[["app-create-module"]],decls:30,vars:16,consts:[[1,"center-form"],[1,"col-sm-4",3,"formGroup"],[1,"form-group"],["for","number"],["type","text","formControlName","number","required","",1,"form-control",3,"ngClass"],["number",""],["class","invalid-feedback",4,"ngIf"],["for","title"],["formControlName","title","required","",1,"form-control",3,"ngClass"],["title",""],["for","lockedUntil"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","formControlName","lockedUntil","readonly","","required","",1,"form-control",3,"value","ngClass","dateSelect"],["d","ngbDatepicker","lockedUntil",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","far","fa-calendar-alt",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus-circle"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",0),b.Ub(1,"h2"),b.Hc(2,"Create New Module"),b.Tb(),b.Ub(3,"form",1),b.Ub(4,"div",2),b.Ub(5,"label",3),b.Hc(6,"Number"),b.Tb(),b.Qb(7,"input",4,5),b.Fc(9,Tt,2,1,"div",6),b.Tb(),b.Ub(10,"div",2),b.Ub(11,"label",7),b.Hc(12,"Title"),b.Tb(),b.Qb(13,"textarea",8,9),b.Fc(15,It,2,1,"div",6),b.Tb(),b.Ub(16,"div",2),b.Ub(17,"label",10),b.Hc(18,"Locked Until"),b.Tb(),b.Ub(19,"div",11),b.Ub(20,"input",12,13),b.gc("dateSelect",(function(e){return t.onDateSelect(e)})),b.jc(23,"async"),b.Tb(),b.Ub(24,"div",14),b.Ub(25,"button",15),b.gc("click",(function(){return b.xc(n),b.wc(21).toggle()})),b.Tb(),b.Tb(),b.Fc(26,St,2,1,"div",6),b.Tb(),b.Tb(),b.Ub(27,"button",16),b.gc("click",(function(){b.xc(n);var e=b.wc(8),i=b.wc(14),c=b.wc(22);return t.addModule(e.value,i.value,c.value)})),b.Qb(28,"i",17),b.Hc(29," Create Module"),b.Tb(),b.Tb(),b.Tb()}2&e&&(b.Cb(3),b.oc("formGroup",t.moduleForm),b.Cb(4),b.oc("ngClass",b.sc(10,_t,t.submitted&&t.m.number.errors)),b.Cb(2),b.oc("ngIf",t.submitted&&t.m.number.errors),b.Cb(4),b.oc("ngClass",b.sc(12,_t,t.submitted&&t.m.title.errors)),b.Cb(2),b.oc("ngIf",t.submitted&&t.m.title.errors),b.Cb(5),b.oc("value",b.kc(23,8,t.todayDate))("ngClass",b.sc(14,_t,t.submitted&&t.m.lockedUntil.errors)),b.Cb(6),b.oc("ngIf",t.submitted&&t.m.lockedUntil.errors))},directives:[r.o,r.i,r.d,r.a,r.h,r.c,r.l,c.l,c.n,o.a],pipes:[c.b],styles:[""]}),wt);function Dt(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Number is required"),b.Tb())}function Mt(e,t){if(1&e&&(b.Ub(0,"div",18),b.Fc(1,Dt,2,0,"div",19),b.Tb()),2&e){var n=b.ic();b.Cb(1),b.oc("ngIf",n.mu.number.errors.required)}}function Lt(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Title is required"),b.Tb())}function At(e,t){if(1&e&&(b.Ub(0,"div",18),b.Fc(1,Lt,2,0,"div",19),b.Tb()),2&e){var n=b.ic();b.Cb(1),b.oc("ngIf",n.mu.title.errors.required)}}function Ot(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Locked Until is required"),b.Tb())}function Vt(e,t){if(1&e&&(b.Ub(0,"div",18),b.Fc(1,Ot,2,0,"div",19),b.Tb()),2&e){var n=b.ic();b.Cb(1),b.oc("ngIf",n.mu.lockedUntil.errors.required)}}var Qt,qt=function(e){return{"is-invalid":e}},$t=((Qt=function(){function e(t,n,i,c){_classCallCheck(this,e),this.moduleService=t,this.router=n,this.route=i,this.fb=c,this.submitted=!1,this.givenDate=null,this.CreateForm()}return _createClass(e,[{key:"CreateForm",value:function(){this.updateForm=this.fb.group({number:["",r.m.required],title:["",r.m.required],lockedUntil:["",r.m.required]})}},{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.id=t.moduleId,e.moduleService.getModuleById(e.id).subscribe((function(t){e.module=t[0],e.moduleNumber=e.module.number,e.updateForm.get("number").setValue(e.module.number),e.updateForm.get("title").setValue(e.module.title),e.updateForm.get("lockedUntil").setValue(e.module.lockedUntil);var n=new Date(e.module.lockedUntil.toString()),i=String(n.getDate()+1).padStart(2,"0"),c=String(n.getMonth()+1).padStart(2,"0"),o=n.getFullYear();e.givenDate=new Promise((function(e,t){e(c+"/"+i+"/"+o)})),e.startDate=(""+e.module.lockedUntil).split("-")}))}))}},{key:"updateModule",value:function(e,t,n){this.submitted=!0;var i=new Date(n),c=String(i.getDate()).padStart(2,"0"),o=String(i.getMonth()+1).padStart(2,"0");n=i.getFullYear()+"-"+o+"-"+c,this.updateForm.valid&&this.moduleService.updateModule(this.id,e,t,n).subscribe((function(e){alert("Module updated successfully")}))}},{key:"onDateSelect",value:function(e){this.givenDate=new Promise((function(t,n){t(String(e.month).padStart(2,"0")+"/"+String(e.day).padStart(2,"0")+"/"+e.year)}))}},{key:"mu",get:function(){return this.updateForm.controls}}]),e}()).\u0275fac=function(e){return new(e||Qt)(b.Pb(K),b.Pb(a.c),b.Pb(a.a),b.Pb(r.b))},Qt.\u0275cmp=b.Jb({type:Qt,selectors:[["app-edit-module"]],decls:30,vars:17,consts:[[1,"center-form"],[1,"col-sm-4",3,"formGroup"],[1,"form-group"],["for","number"],["type","text","formControlName","number","required","",1,"form-control",3,"ngClass"],["number",""],["class","invalid-feedback",4,"ngIf"],["for","title"],["formControlName","title","required","",1,"form-control",3,"ngClass"],["title",""],["for","lockedUntil"],[1,"input-group"],["type","text","placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","readonly","","formControlName","lockedUntil","required","",1,"form-control",3,"value","ngClass","dateSelect"],["d","ngbDatepicker","lockedUntil",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","far","fa-calendar-alt",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus-circle"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",0),b.Ub(1,"h2"),b.Hc(2),b.Tb(),b.Ub(3,"form",1),b.Ub(4,"div",2),b.Ub(5,"label",3),b.Hc(6,"Number"),b.Tb(),b.Qb(7,"input",4,5),b.Fc(9,Mt,2,1,"div",6),b.Tb(),b.Ub(10,"div",2),b.Ub(11,"label",7),b.Hc(12,"Title"),b.Tb(),b.Qb(13,"textarea",8,9),b.Fc(15,At,2,1,"div",6),b.Tb(),b.Ub(16,"div",2),b.Ub(17,"label",10),b.Hc(18,"Locked Until"),b.Tb(),b.Ub(19,"div",11),b.Ub(20,"input",12,13),b.gc("dateSelect",(function(e){return t.onDateSelect(e)})),b.jc(23,"async"),b.Tb(),b.Ub(24,"div",14),b.Ub(25,"button",15),b.gc("click",(function(){return b.xc(n),b.wc(21).toggle()})),b.Tb(),b.Tb(),b.Fc(26,Vt,2,1,"div",6),b.Tb(),b.Tb(),b.Ub(27,"button",16),b.gc("click",(function(){b.xc(n);var e=b.wc(8),i=b.wc(14),c=b.wc(22);return t.updateModule(e.value,i.value,c.value)})),b.Qb(28,"i",17),b.Hc(29," Update Module"),b.Tb(),b.Tb(),b.Tb()}2&e&&(b.Cb(2),b.Jc("Edit Module ",t.moduleNumber,""),b.Cb(1),b.oc("formGroup",t.updateForm),b.Cb(4),b.oc("ngClass",b.sc(11,qt,t.submitted&&t.mu.number.errors)),b.Cb(2),b.oc("ngIf",t.submitted&&t.mu.number.errors),b.Cb(4),b.oc("ngClass",b.sc(13,qt,t.submitted&&t.mu.title.errors)),b.Cb(2),b.oc("ngIf",t.submitted&&t.mu.title.errors),b.Cb(5),b.oc("value",b.kc(23,9,t.givenDate))("ngClass",b.sc(15,qt,t.submitted&&t.mu.lockedUntil.errors)),b.Cb(6),b.oc("ngIf",t.submitted&&t.mu.lockedUntil.errors))},directives:[r.o,r.i,r.d,r.a,r.h,r.c,r.l,c.l,c.n,o.a],pipes:[c.b],styles:[""]}),Qt);function Et(e,t){if(1&e){var n=b.Vb();b.Sb(0),b.Ub(1,"ckeditor",2),b.gc("change",(function(e){return b.xc(n),b.ic().onChange(e)})),b.Tb(),b.Ub(2,"span"),b.Ub(3,"button",3),b.gc("click",(function(){b.xc(n);var e=t.ngIf;return b.ic().onSubmit(e.id)})),b.Hc(4,"Submit"),b.Tb(),b.Ub(5,"button",4),b.gc("click",(function(){b.xc(n);var e=t.ngIf;return b.ic().onClearButtonClicked(e.id)})),b.Hc(6,"Clear and Submit"),b.Tb(),b.Ub(7,"a",5),b.Qb(8,"i",6),b.Hc(9," Go back"),b.Tb(),b.Tb(),b.Qb(10,"hr"),b.Ub(11,"h2"),b.Hc(12,"Preview"),b.Tb(),b.Qb(13,"div",7),b.Rb()}if(2&e){var i=t.ngIf,c=b.ic();b.Cb(1),b.oc("editor",c.Editor)("data",c.editorData?c.editorData:i.content),b.Cb(6),b.qc("routerLink","/courses/",c.courseId,""),b.Cb(6),b.oc("innerHTML",c.editorData?c.editorData:i.content,b.yc)}}var zt,Rt,Bt=((Rt=function(){function e(t,n,i){_classCallCheck(this,e),this.courseDetailsService=t,this.route=n,this.router=i,this.Editor=L,this.isCleared=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.courseId=t.id})),this.courseContent=this.courseDetailsService.getCourseDetails(this.courseId),this.courseDetailsService.getCourseDetails(this.courseId).subscribe((function(t){e.courseDetails=t}))}},{key:"onReady",value:function(e){e.setData("")}},{key:"onChange",value:function(e){var t=e.editor;this.editorData=t.getData(),this.isCleared&&(t.setData(""),this.isCleared=!1),console.log(this.editorData)}},{key:"onSubmit",value:function(e){var t=this;this.courseDetailsService.updateCourseDetails(e,this.editorData).subscribe((function(){alert("Submitted Content"),t.router.navigate(["courses",t.courseId])}))}},{key:"onClearButtonClicked",value:function(e){var t=this;confirm("Clear content; Are you sure?")&&this.courseDetailsService.clearCourseDetails(e).subscribe((function(){alert("Cleared Content"),t.isCleared=!0,t.router.navigate(["courses",t.courseId])}))}}]),e}()).\u0275fac=function(e){return new(e||Rt)(b.Pb(A.a),b.Pb(a.a),b.Pb(a.c))},Rt.\u0275cmp=b.Jb({type:Rt,selectors:[["app-home-edit"]],decls:3,vars:3,consts:[[1,"flexbox-row"],[4,"ngIf"],[1,"clamp-words",3,"editor","data","change"],[1,"btn","btn-primary",2,"margin-right","15px",3,"click"],[1,"btn","btn-warning",2,"margin-left","15px",3,"click"],[1,"btn","btn-secondary",2,"margin-left","15px",3,"routerLink"],[1,"fas","fa-arrow-circle-left"],[1,"custom-font","clamp-words",2,"margin-top","30px",3,"innerHTML"]],template:function(e,t){1&e&&(b.Ub(0,"div",0),b.Fc(1,Et,14,4,"ng-container",1),b.jc(2,"async"),b.Tb()),2&e&&(b.Cb(1),b.oc("ngIf",b.kc(2,1,t.courseContent)))},directives:[c.n,s.a,a.f],pipes:[c.b],styles:[".flexbox-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;justify-content:center;align-items:center;position:relative;margin-top:30px}"]}),Rt),Nt=((zt=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"createDiscussion",value:function(e,t,n,i,c,o){return this.http.post("".concat(m.a.apiURL,"/discussions"),{user:e,post:t,created:n,changed:i,module_id:c,user_id:o})}},{key:"getDiscussionsInModule",value:function(e){return this.http.get("".concat(m.a.apiURL,"/discussions/m/").concat(e))}},{key:"updateDiscussion",value:function(e,t,n){return this.http.put("".concat(m.a.apiURL,"/discussions/").concat(n),{post:e,changed:t})}},{key:"deleteDiscussion",value:function(e){return this.http.delete("".concat(m.a.apiURL,"/discussions/").concat(e))}}]),e}()).\u0275fac=function(e){return new(e||zt)(b.cc(g.b))},zt.\u0275prov=b.Lb({token:zt,factory:zt.\u0275fac,providedIn:"root"}),zt);function Jt(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Post cannot be empty"),b.Tb())}function Gt(e,t){if(1&e&&(b.Ub(0,"div",8),b.Fc(1,Jt,2,0,"div",9),b.Tb()),2&e){var n=b.ic();b.Cb(1),b.oc("ngIf",n.p.post.errors.required)}}var jt,Yt=function(e){return{"is-invalid":e}},Kt=((jt=function(){function e(t,n,i,c,o){var r=this;_classCallCheck(this,e),this.fb=t,this.discussionService=n,this.moduleService=i,this.authenticationService=c,this.route=o,this.module=null,this.submitted=!1,this.authenticationService.currentUser.subscribe((function(e){return r.currentUser=e}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.userPayload=d()(this.currentUser.token),this.route.params.subscribe((function(t){e.moduleService.getModuleById(t.moduleId).subscribe((function(t){e.module=new Promise((function(e,n){e(t[0])}))}))})),this.createForm()}},{key:"createForm",value:function(){this.postForm=this.fb.group({post:["",r.m.required]})}},{key:"createPost",value:function(e){var t=this;this.submitted=!0,this.postForm.valid&&this.module.then((function(n){var i=t.userPayload.f_name+" "+t.userPayload.l_name,c=new Date;t.discussionService.createDiscussion(i,e,c,c,n.id,t.userPayload.id).subscribe((function(){alert("Created post")}))}))}},{key:"p",get:function(){return this.postForm.controls}}]),e}()).\u0275fac=function(e){return new(e||jt)(b.Pb(r.b),b.Pb(Nt),b.Pb(K),b.Pb(v.a),b.Pb(a.a))},jt.\u0275cmp=b.Jb({type:jt,selectors:[["app-create-post"]],decls:9,vars:5,consts:[[1,"center-form"],[3,"formGroup"],[1,"form-group"],["rows","3","required","","formControlName","post",1,"form-control",3,"ngClass"],["post",""],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus-circle"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",0),b.Ub(1,"form",1),b.Ub(2,"div",2),b.Qb(3,"textarea",3,4),b.Fc(5,Gt,2,1,"div",5),b.Tb(),b.Ub(6,"button",6),b.gc("click",(function(){b.xc(n);var e=b.wc(4);return t.createPost(e.value)})),b.Qb(7,"i",7),b.Hc(8," Create Post"),b.Tb(),b.Tb(),b.Tb()}2&e&&(b.Cb(1),b.oc("formGroup",t.postForm),b.Cb(2),b.oc("ngClass",b.sc(3,Yt,t.submitted&&t.p.post.errors)),b.Cb(2),b.oc("ngIf",t.submitted&&t.p.post.errors))},directives:[r.o,r.i,r.d,r.a,r.l,r.h,r.c,c.l,c.n],styles:[""]}),jt);function Xt(e,t){1&e&&(b.Ub(0,"div"),b.Hc(1,"Post is required"),b.Tb())}function Wt(e,t){if(1&e&&(b.Ub(0,"div",17),b.Fc(1,Xt,2,0,"div",18),b.Tb()),2&e){var n=b.ic(2);b.Cb(1),b.oc("ngIf",n.up.post.errors.required)}}var Zt=function(e){return{"is-invalid":e}};function en(e,t){if(1&e){var n=b.Vb();b.Ub(0,"div",2),b.Ub(1,"h4",3),b.Hc(2,"Edit Your Post"),b.Tb(),b.Ub(3,"button",4),b.gc("click",(function(){return t.$implicit.dismiss("Cross click")})),b.Ub(4,"span",5),b.Hc(5,"\xd7"),b.Tb(),b.Tb(),b.Tb(),b.Ub(6,"div",6),b.Ub(7,"form",7),b.Ub(8,"div",8),b.Ub(9,"label",9),b.Hc(10,"Post"),b.Tb(),b.Qb(11,"textarea",10,11),b.Fc(13,Wt,2,1,"div",12),b.Tb(),b.Ub(14,"button",13),b.gc("click",(function(){b.xc(n);var e=b.wc(12);return b.ic().updatePost(e.value)})),b.Qb(15,"i",14),b.Hc(16," Update Post"),b.Tb(),b.Tb(),b.Tb(),b.Ub(17,"div",15),b.Ub(18,"button",16),b.gc("click",(function(){return t.$implicit.close("Close click")})),b.Hc(19,"Close"),b.Tb(),b.Tb()}if(2&e){var i=b.ic();b.Cb(7),b.oc("formGroup",i.editPostForm),b.Cb(4),b.oc("ngClass",b.sc(3,Zt,i.submitted&&i.up.post.errors)),b.Cb(2),b.oc("ngIf",i.submitted&&i.up.post.errors)}}var tn,nn=((tn=function(){function e(t,n,i){_classCallCheck(this,e),this.modalService=t,this.fb=n,this.discussionService=i,this.submitted=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.makeForm()}},{key:"makeForm",value:function(){this.editPostForm=this.fb.group({post:["",r.m.required]})}},{key:"open",value:function(e){this.editPostForm.get("post").setValue(this.discussionData.post),this.modalService.open(e,{size:"lg",centered:!0})}},{key:"updatePost",value:function(e){if(this.submitted=!0,this.editPostForm.valid){var t=new Date;this.discussionService.updateDiscussion(e,t,this.discussionData.discussion_id).subscribe((function(){alert("Updated post")}))}}},{key:"up",get:function(){return this.editPostForm.controls}}]),e}()).\u0275fac=function(e){return new(e||tn)(b.Pb(o.b),b.Pb(r.b),b.Pb(Nt))},tn.\u0275cmp=b.Jb({type:tn,selectors:[["app-edit-post"]],inputs:{discussionData:"discussionData"},decls:4,vars:0,consts:[["contentPostEdit",""],[1,"btn","btn-success",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-9",3,"formGroup"],[1,"form-group"],["for","post"],["rows","3","required","","formControlName","post",1,"form-control",3,"ngClass"],["post",""],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus-circle"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){if(1&e){var n=b.Vb();b.Fc(0,en,20,5,"ng-template",null,0,b.Gc),b.Ub(2,"button",1),b.gc("click",(function(){b.xc(n);var e=b.wc(1);return t.open(e)})),b.Hc(3,"Edit Post"),b.Tb()}},directives:[r.o,r.i,r.d,r.a,r.l,r.h,r.c,c.l,c.n],styles:[""]}),tn);function cn(e,t){if(1&e&&(b.Ub(0,"div"),b.Ub(1,"h1",3),b.Hc(2,"Discussion"),b.Tb(),b.Ub(3,"h2",3),b.Hc(4),b.Tb(),b.Ub(5,"h3"),b.Hc(6),b.Tb(),b.Tb()),2&e){var n=t.ngIf;b.Cb(4),b.Jc("Module ",n.number,""),b.Cb(2),b.Ic(n.title)}}function on(e,t){if(1&e&&b.Qb(0,"app-edit-post",8),2&e){var n=b.ic().$implicit;b.oc("discussionData",n)}}function rn(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",9),b.gc("click",(function(){b.xc(n);var e=b.ic().$implicit;return b.ic().deletePost(e.discussion_id)})),b.Hc(1,"Delete Post"),b.Tb()}}function sn(e,t){if(1&e&&(b.Ub(0,"div",4),b.Ub(1,"p",5),b.Hc(2),b.jc(3,"date"),b.jc(4,"date"),b.Qb(5,"br"),b.Hc(6),b.Qb(7,"br"),b.Fc(8,on,1,1,"app-edit-post",6),b.Fc(9,rn,2,0,"button",7),b.Tb(),b.Tb()),2&e){var n=t.$implicit,i=b.ic();b.Cb(2),b.Kc(" ",n.user," | ",n.created>=n.changed?b.lc(3,5,n.created,"short"):b.lc(4,8,n.changed,"short"),""),b.Cb(4),b.Jc(" ",n.post,""),b.Cb(2),b.oc("ngIf",n.user_id==i.userPayload.id),b.Cb(1),b.oc("ngIf",n.user_id==i.userPayload.id)}}var an,un,ln=((un=function(){function e(t,n,i,c){var o=this;_classCallCheck(this,e),this.discussionService=t,this.moduleService=n,this.authenticationService=i,this.route=c,this.discussions=[],this.moduleDetails={},this.authenticationService.currentUser.subscribe((function(e){return o.currentUser=e}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.userPayload=d()(this.currentUser.token),this.route.params.subscribe((function(t){e.discussionService.getDiscussionsInModule(t.moduleId).subscribe((function(t){console.log(t),e.discussions=t})),e.moduleService.getModuleById(t.moduleId).subscribe((function(t){console.log(t[0]),e.moduleDetails=t[0]}))}))}},{key:"deletePost",value:function(e){confirm("Delete post: Are you sure?")&&this.discussionService.deleteDiscussion(e).subscribe((function(){alert("Deleted post successfully")}))}}]),e}()).\u0275fac=function(e){return new(e||un)(b.Pb(Nt),b.Pb(K),b.Pb(v.a),b.Pb(a.a))},un.\u0275cmp=b.Jb({type:un,selectors:[["app-discussion"]],decls:4,vars:2,consts:[[1,"center-form"],[4,"ngIf"],["class","flex-row",4,"ngFor","ngForOf"],[2,"text-align","center"],[1,"flex-row"],[1,"flex-item"],[3,"discussionData",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[3,"discussionData"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(b.Ub(0,"div",0),b.Fc(1,cn,7,2,"div",1),b.Qb(2,"app-create-post"),b.Fc(3,sn,10,11,"div",2),b.Tb()),2&e&&(b.Cb(1),b.oc("ngIf",t.moduleDetails),b.Cb(2),b.oc("ngForOf",t.discussions))},directives:[c.n,Kt,c.m,nn],pipes:[c.e],styles:[".flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:#add8e6;margin:15px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.flex-item[_ngcontent-%COMP%]{align-self:stretch}"]}),un),dn=((an=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"createCourseAnnouncement",value:function(e,t){return this.http.post("".concat(m.a.apiURL,"/courseAnnouncements"),{course_id:e,announcement_id:t})}},{key:"fetchCourseAnnouncements",value:function(){return this.http.get("".concat(m.a.apiURL,"/courseAnnouncements"))}},{key:"fetchCourseAnnouncementById",value:function(e){return this.http.get("".concat(m.a.apiURL,"/courseAnnouncements/").concat(e))}},{key:"updateCourseAnnouncement",value:function(e,t,n){return this.http.put("".concat(m.a.apiURL,"/courseAnnouncements/").concat(e),{course_id:t,announcement_id:n})}},{key:"deleteCourseAnnouncement",value:function(e){return this.http.delete("".concat(m.a.apiURL,"/courseAnnouncements/").concat(e))}}]),e}()).\u0275fac=function(e){return new(e||an)(b.cc(g.b))},an.\u0275prov=b.Lb({token:an,factory:an.\u0275fac,providedIn:"root"}),an);function bn(e,t){if(1&e&&(b.Ub(0,"p"),b.Hc(1),b.Tb()),2&e){var n=b.ic().$implicit;b.Cb(1),b.Ic(n.name)}}function fn(e,t){if(1&e&&(b.Ub(0,"div",8),b.Fc(1,bn,2,1,"p",9),b.Tb()),2&e){var n=t.$implicit;b.Cb(1),b.oc("ngIf",n)}}var pn,vn=((pn=function(){function e(t,n,i,c,o){var r=this;_classCallCheck(this,e),this.announcementService=t,this.courseAnnouncementService=n,this.authenticationService=i,this.courseService=c,this.router=o,this.checkedCourses=[],this.Editor=L,this.editorData="",this.courses=[],this.authenticationService.currentUser.subscribe((function(e){return r.currentUser=e}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.userPayload=d()(this.currentUser.token),console.log(this.userPayload.f_name),this.subscription=this.announcementService.sharedCheckedCourses.subscribe((function(t){e.checkedCourses=t,console.log(t),e.checkedCourses.forEach((function(t,n,i){e.courseService.getCourseById(t).subscribe((function(t){e.courses[n]=t,console.log(t)}))}))}),(function(e){console.log(e)}),(function(){console.log("complete")}))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onReady",value:function(e){e.setData("")}},{key:"onChange",value:function(e){var t=e.editor;this.editorData=t.getData(),this.isCleared&&(t.setData(""),this.isCleared=!1),console.log(this.editorData)}},{key:"createAnnouncement",value:function(){var e=this,t=this.userPayload.f_name+" "+this.userPayload.l_name,n=new Date;this.announcementService.createAnnouncement(t,this.editorData,n,n,this.userPayload.id).subscribe((function(t){console.log(t);for(var n=0;n<e.checkedCourses.length;n++)e.courseAnnouncementService.createCourseAnnouncement(e.checkedCourses[n],t.id).subscribe((function(e){console.log(e)}));alert("Created announcement successfully")}))}}]),e}()).\u0275fac=function(e){return new(e||pn)(b.Pb(k),b.Pb(dn),b.Pb(v.a),b.Pb(p.a),b.Pb(a.c))},pn.\u0275cmp=b.Jb({type:pn,selectors:[["app-create-announcement"]],decls:16,vars:4,consts:[[1,"flexbox-row",2,"margin-top","30px"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"clamp-words",3,"editor","data","change"],[1,"btn","btn-primary",2,"margin-right","15px",3,"click"],["routerLink","/courses",1,"btn","btn-secondary",2,"margin-left","15px"],[1,"fas","fa-arrow-circle-left"],[1,"custom-font","clamp-words",2,"margin-top","30px",3,"innerHTML"],[1,"col-md-4"],[4,"ngIf"]],template:function(e,t){1&e&&(b.Ub(0,"div",0),b.Ub(1,"h3"),b.Hc(2,"Create announcement for courses:"),b.Tb(),b.Ub(3,"div",1),b.Fc(4,fn,2,1,"div",2),b.Tb(),b.Ub(5,"ckeditor",3),b.gc("change",(function(e){return t.onChange(e)})),b.Tb(),b.Ub(6,"span"),b.Ub(7,"button",4),b.gc("click",(function(){return t.createAnnouncement()})),b.Hc(8,"Submit"),b.Tb(),b.Ub(9,"a",5),b.Qb(10,"i",6),b.Hc(11," Go back"),b.Tb(),b.Tb(),b.Qb(12,"hr"),b.Ub(13,"h2"),b.Hc(14,"Announcement Preview"),b.Tb(),b.Qb(15,"div",7),b.Tb()),2&e&&(b.Cb(4),b.oc("ngForOf",t.courses),b.Cb(1),b.oc("editor",t.Editor)("data",t.editorData),b.Cb(10),b.oc("innerHTML",t.editorData,b.yc))},directives:[c.m,s.a,a.f,c.n],styles:[""]}),pn);function mn(e,t){if(1&e&&(b.Ub(0,"div"),b.Qb(1,"div",3),b.Tb()),2&e){var n=t.$implicit;b.Cb(1),b.oc("innerHTML",n.content,b.yc)}}var hn,gn,kn=((gn=function(){function e(t,n){_classCallCheck(this,e),this.announcementService=t,this.route=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){console.log(t.id),e.announcements=e.announcementService.fetchAnnouncementsByCourseId(t.id)}))}}]),e}()).\u0275fac=function(e){return new(e||gn)(b.Pb(k),b.Pb(a.a))},gn.\u0275cmp=b.Jb({type:gn,selectors:[["app-announcements"]],decls:8,vars:3,consts:[["id","main"],[1,"flexbox-row"],[4,"ngFor","ngForOf"],[2,"background-color","lightgray",3,"innerHTML"]],template:function(e,t){1&e&&(b.Qb(0,"app-sidebar"),b.Ub(1,"div",0),b.Qb(2,"app-sidebar-button"),b.Ub(3,"div",1),b.Ub(4,"h2"),b.Hc(5,"Announcements"),b.Tb(),b.Fc(6,mn,2,1,"div",2),b.jc(7,"async"),b.Tb(),b.Tb()),2&e&&(b.Cb(6),b.oc("ngForOf",b.kc(7,1,t.announcements)))},directives:[V,E,c.m],pipes:[c.b],styles:[""]}),gn),yn=((hn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||hn)},hn.\u0275cmp=b.Jb({type:hn,selectors:[["app-edit-announcement"]],decls:2,vars:0,template:function(e,t){1&e&&(b.Ub(0,"p"),b.Hc(1,"edit-announcement works!"),b.Tb())},styles:[""]}),hn);function Cn(e,t){if(1&e&&(b.Ub(0,"div",3),b.Ub(1,"p"),b.Hc(2),b.Tb(),b.Ub(3,"p"),b.Hc(4),b.Tb(),b.Qb(5,"div",4),b.Tb()),2&e){var n=b.ic().$implicit,i=b.ic(),c=i.index,o=i.$implicit;b.Cb(2),b.Jc("Equal ",n,""),b.Cb(2),b.Lc("",c," | ",o.announcement_id," | ",o.course_name,""),b.Cb(1),b.oc("innerHTML",o.content,b.yc)}}function Un(e,t){if(1&e&&(b.Ub(0,"div"),b.Fc(1,Cn,6,5,"div",2),b.Tb()),2&e){var n=t.$implicit,i=b.ic().$implicit;b.Cb(1),b.oc("ngIf",n==i.announcement_id)}}function xn(e,t){if(1&e&&(b.Ub(0,"div"),b.Fc(1,Un,2,1,"div",1),b.Tb()),2&e){var n=b.ic();b.Cb(1),b.oc("ngForOf",n.announcementSet)}}var Tn,Fn,In=[{path:"create-announcement",component:vn,canActivate:[v.a],data:{expectedRole:"admin"},pathMatch:"full"},{path:"view-created-announcements",component:(Tn=function(){function e(t){_classCallCheck(this,e),this.announcementService=t,this.announcementSet=new Set}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.announcementService.fetchAnnouncements().subscribe((function(t){t.forEach((function(t,n,i){e.announcementSet.add(t.announcement_id);var c=t.content.substring(0,25);t.content=c})),e.announcementSet.forEach((function(e){console.log(e)})),e.announcements=t,console.log(t)}))}}]),e}(),Tn.\u0275fac=function(e){return new(e||Tn)(b.Pb(k))},Tn.\u0275cmp=b.Jb({type:Tn,selectors:[["app-view-created-announcements"]],decls:4,vars:1,consts:[[1,"flexbox-row"],[4,"ngFor","ngForOf"],["style","background-color: lightgray",4,"ngIf"],[2,"background-color","lightgray"],[3,"innerHTML"]],template:function(e,t){1&e&&(b.Ub(0,"div",0),b.Ub(1,"h2"),b.Hc(2,"Manage Announcements"),b.Tb(),b.Fc(3,xn,2,1,"div",1),b.Tb()),2&e&&(b.Cb(3),b.oc("ngForOf",t.announcements))},directives:[c.m,c.n],styles:[""]}),Tn),canActivate:[v.a],data:{expectedRole:"admin"},pathMatch:"full"},{path:"edit-announcement/:announcementId",component:yn,canActivate:[v.a],data:{expectedRole:"admin"},pathMatch:"full"},{path:"",component:M,canActivate:[v.a],pathMatch:"full"},{path:":id",component:Y,canActivate:[v.a],pathMatch:"full"},{path:":id/announcements",component:kn,canActivate:[v.a]},{path:":id/modules",component:gt,canActivate:[v.a]},{path:":id/leaderboard",component:Ut,canActivate:[v.a]},{path:":id/create-module",component:Ht,canActivate:[v.a],data:{expectedRole:"instructor"}},{path:":id/edit-module/:moduleId",component:$t,canActivate:[v.a],data:{expectedRole:"instructor"}},{path:":id/edit-home",component:Bt,canActivate:[v.a],data:{expectedRole:"instructor"}},{path:":id/discussion/:moduleId",component:ln,canActivate:[v.a]}],Pn=((Fn=function e(){_classCallCheck(this,e)}).\u0275mod=b.Nb({type:Fn}),Fn.\u0275inj=b.Mb({factory:function(e){return new(e||Fn)},imports:[[a.g.forChild(In)],a.g]}),Fn);n.d(t,"CourseModule",(function(){return wn}));var Sn,wn=((Sn=function e(){_classCallCheck(this,e)}).\u0275mod=b.Nb({type:Sn}),Sn.\u0275inj=b.Mb({factory:function(e){return new(e||Sn)},imports:[[c.c,Pn,r.k,o.c,s.b]]}),Sn)}}]);